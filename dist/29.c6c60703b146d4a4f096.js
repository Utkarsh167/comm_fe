(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"+XhO":function(e,t,n){"use strict";n.r(t),t.default='<div class="white_wrapper action">\n  <div class="flex_row">\n    <div class="flex_col_sm_5 rowFilterBox">\n      <app-search-filter\n        [placeholder]="\'Search by model name, vendor name and cab id \'"\n        (setSearch)="setSearch($event)"\n      >\n      </app-search-filter>\n\n      <ul class="archieveData">\n        <li [routerLink]="\'ARCHIVED_CAB\' | absolutePath">\n          <a>Archived</a>\n        </li>\n      </ul>\n    </div>\n    <div class="flex_col_sm_5">\n      <ul class="btn_wrapper text-right">\n        <li>\n          <app-filter-count\n            [filterCount]="appliedFilterCount"\n          ></app-filter-count>\n        </li>\n        <li>\n          <button\n            mat-raised-button\n            (click)="showFilter = !showFilter"\n            color="primary"\n          >\n            <mat-icon>filter_list</mat-icon> Filter\n          </button>\n        </li>\n\n        <li class="action">\n          <button\n            color="primary"\n            class="action_menu"\n            [matMenuTriggerFor]="menu"\n          >\n            <mat-icon>more_vert</mat-icon> Action\n          </button>\n\n          <ul class="actionmenu">\n            <mat-menu #menu="matMenu">\n              <li>\n                <a href="assets/xls/cab.xls" class="csv-product">\n                  <button mat-raised-button color="primary">\n                    <mat-icon>arrow_downward</mat-icon> Download Sample XLS\n                  </button>\n                </a>\n              </li>\n              <li>\n                <button\n                  mat-raised-button\n                  color="primary"\n                  class="csv-product upload"\n                >\n                  <input\n                    type="file"\n                    #upload_csv\n                    (change)="uploadCSV($event)"\n                    accept=".xls"\n                    class="fileButton"\n                  />\n                  <mat-icon>cloud_upload</mat-icon> Upload XLS\n                </button>\n                <div class="uploadData">\n                  <label *ngIf="csvFileName"\n                    >{{ csvFileName }}\n                    <span title="Remove File" (click)="removeCSV()">\n                      <img alt="Remove" src="assets/images/delete.svg" />\n                    </span>\n                  </label>\n                </div>\n              </li>\n            </mat-menu>\n          </ul>\n        </li>\n        <li>\n          <button\n            mat-raised-button\n            [routerLink]="\'ADD_CAB\' | absolutePath"\n            color="primary"\n          >\n            <mat-icon>add</mat-icon> Add Cab\n          </button>\n        </li>\n      </ul>\n    </div>\n  </div>\n\n  <div class="flex_row">\n    <ul class="breadcrumb">\n      <li>\n        <a href="javascript:void(0)">Stakeholders</a>\n      </li>\n      <li>\n        <a href="javascript:void(0)" class="active">Cab</a>\n      </li>\n    </ul>\n  </div>\n</div>\n\n<div\n  class="white_wrapper filter_wrapper"\n  [class.filter_wrapper_show]="showFilter"\n>\n  <div class="flex_row">\n    <div class="flex_col_sm_4">\n      <app-date-filter [dateObject]="filterObject.registrationDate">\n      </app-date-filter>\n    </div>\n    <div class="flex_col_sm_2">\n      <app-dropdown-filter\n        [dropdown]="filterObject.status"\n      ></app-dropdown-filter>\n    </div>\n    <div class="flex_col_sm_2">\n      <app-dropdown-filter\n        [dropdown]="filterObject.assigned"\n      ></app-dropdown-filter>\n    </div>\n    <div class="flex_col_sm_2">\n      <h4>\n        &nbsp;\n      </h4>\n      <mat-form-field>\n        <input\n          [formControl]="filterForm.controls.vendorId"\n          placeholder="Search Vendor"\n          [matAutocomplete]="auto"\n          matInput\n        />\n        <mat-autocomplete\n          (optionSelected)="selectVendor($event)"\n          #auto="matAutocomplete"\n        >\n          <mat-option *ngFor="let vendor of vendors" [value]="vendor">\n            {{ vendor.name }}\n          </mat-option>\n        </mat-autocomplete>\n      </mat-form-field>\n    </div>\n  </div>\n  <div class="flex_row">\n    <div class="flex_col_sm_10 text-center">\n      <ul class="btn_wrapper">\n        <li>\n          <button\n            filter_btn\n            mat-stroked-button\n            [disabled]="disable()"\n            (click)="resetFilter()"\n          >\n            Reset\n          </button>\n        </li>\n\n        <li>\n          <button\n            filter_btn\n            mat-raised-button\n            color="primary"\n            [disabled]="disable()"\n            (click)="filter()"\n          >\n            Filter\n          </button>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n\n<div class="white_wrapper">\n  <table\n    mat-table\n    [dataSource]="cabs"\n    matSort\n    (matSortChange)="sortData($event)"\n    class="mat-elevation-z8"\n  >\n    <ng-container matColumnDef="position">\n      <th mat-header-cell *matHeaderCellDef>No.</th>\n      <td mat-cell *matCellDef="let element; let i = index">\n        {{ getSerialNumber(i + 1) }}\n      </td>\n    </ng-container>\n\n    <ng-container matColumnDef="cabBadge">\n      \x3c!-- Added sort for cabBadge - Shivakumar A --\x3e\n      <th mat-header-cell mat-sort-header *matHeaderCellDef>\n        <span\n        [ngClass]="\n          isFilterApplied && filterForm.value.routeNo ? \'appliedFilter\' : \'\'\n        ">Cab ID</span></th>\n      <td mat-cell *matCellDef="let element">\n         \x3c!-- added medical cab icon class - Shivakumar A --\x3e\n        {{ element.routeNo | checkNull }} <b class="medical_cab_symbol_option" *ngIf="element.type === medicalCabValue">&#43;</b>\n      </td>\n    </ng-container>\n\n    <ng-container matColumnDef="cabModel">\n      <th mat-header-cell mat-sort-header *matHeaderCellDef>Model Name</th>\n      <td mat-cell *matCellDef="let element">\n        <span\n          class="view_details td-text-wrap"\n          [routerLink]="[\'CAB\' | absolutePath, element._id]"\n        >\n          {{ element.cabModel | checkNull }}\n        </span>\n      </td>\n    </ng-container>\n\n    <ng-container matColumnDef="registrationNo">\n      <th mat-header-cell *matHeaderCellDef>Registration No.</th>\n      <td mat-cell *matCellDef="let element">\n        {{ element.registrationNo | checkNull }}\n      </td>\n    </ng-container>\n\n    <ng-container matColumnDef="seatingCapacity">\n      <th mat-header-cell *matHeaderCellDef>Seating Capacity</th>\n      <td mat-cell *matCellDef="let element">\n        {{ element.seatingCapacity | checkNull }}\n      </td>\n    </ng-container>\n\n    <ng-container matColumnDef="vendorName">\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\n        <span\n          [ngClass]="\n            isFilterApplied && filterForm.value.vendorId ? \'appliedFilter\' : \'\'\n          "\n          >Vendor Name\n        </span>\n      </th>\n      <td mat-cell *matCellDef="let element">\n        <span class="td-text-wrap">{{ element.vendorName | checkNull }}</span>\n      </td>\n    </ng-container>\n\n    <ng-container matColumnDef="created">\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>\n        <span\n          [ngClass]="\n            isFilterApplied && filterForm.value.fromDate ? \'appliedFilter\' : \'\'\n          "\n          >Registration Date\n        </span>\n      </th>\n      <td mat-cell *matCellDef="let element">\n        {{ element.created | customDate }}\n      </td>\n    </ng-container>\n\n    <ng-container matColumnDef="isAssigned">\n      <th mat-header-cell *matHeaderCellDef>\n        <span\n          [ngClass]="\n            isFilterApplied && filterForm.value.assigned ? \'appliedFilter\' : \'\'\n          "\n          >Driver Mapping Status\n        </span>\n      </th>\n      <td mat-cell *matCellDef="let element">\n        {{ element.assigned?.length ? "Assigned" : "Unassigned" }}\n      </td>\n    </ng-container>\n\n    <ng-container matColumnDef="status">\n      <th mat-header-cell *matHeaderCellDef>Status</th>\n      <td mat-cell *matCellDef="let element">\n        {{ element.status | status | titlecase | checkNull }}\n      </td>\n    </ng-container>\n\n    \x3c!-- Symbol Column --\x3e\n    <ng-container matColumnDef="action">\n      <th mat-header-cell *matHeaderCellDef>Action</th>\n      <td mat-cell *matCellDef="let element">\n        <button mat-button [matMenuTriggerFor]="menu" class="btn-more-menu">\n          <mat-icon>more_vert</mat-icon>\n        </button>\n        <mat-menu #menu="matMenu" xPosition="before">\n          <button\n            mat-menu-item\n            (click)="\n              changeStatus(\'deleted\', element._id, element.assigned?.length)\n            "\n          >\n            <mat-icon matTooltip="Archive">archive</mat-icon> Archive\n          </button>\n          <button\n            mat-menu-item\n            [routerLink]="[\'EDIT_CAB\' | absolutePath, element._id]"\n          >\n            <mat-icon matTooltip="Edit">edit</mat-icon> Edit\n          </button>\n          <button\n            mat-menu-item\n            [ngClass]="element.status === \'blocked\' ? \'ban\' : \'noban\'"\n            (click)="\n              changeStatus(\n                element.status === \'blocked\' ? \'unblocked\' : \'blocked\',\n                element._id,\n                element.assigned?.length\n              )\n            "\n          >\n            <mat-icon\n              matTooltip="{{\n                element.status === \'blocked\' ? \'Unblock\' : \'Block\'\n              }}"\n            >\n              {{ element.status === "blocked" ? "block" : "block" }}</mat-icon\n            >\n            {{ element.status === "blocked" ? "un-block" : "Block" }}\n          </button>\n        </mat-menu>\n      </td>\n    </ng-container>\n\n    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>\n    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>\n  </table>\n\n  <div class="white_wrapper" *ngIf="total === 0">\n    <h2 class="not-found">No Cab Found</h2>\n  </div>\n  <div class="white_wrapper" *ngIf="cabs.data.length">\n    <mat-paginator\n      [length]="total"\n      [pageIndex]="page - 1"\n      [pageSize]="pageSize"\n      [pageSizeOptions]="pageOptions"\n      (page)="changePage($event)"\n    >\n    </mat-paginator>\n  </div>\n</div>\n'},CaoY:function(e,t,n){"use strict";var a=n("mrSG"),r=n("CcnG"),o=n("Ip0R"),i=function(){function e(){}return e.prototype.ngOnInit=function(){},a.__decorate([Object(r.G)(),a.__metadata("design:type",Object)],e.prototype,"dropdown",void 0),e=a.__decorate([Object(r.n)({selector:"app-dropdown-filter",template:a.__importDefault(n("c5r+")).default,styles:[a.__importDefault(n("utZl")).default]}),a.__metadata("design:paramtypes",[])],e)}(),l=n("seP3"),s=n("uGex"),c=n("Wf4p"),p=n("gIcY");n.d(t,"a",(function(){return d}));var d=function(){function e(){}return e=a.__decorate([Object(r.L)({declarations:[i],imports:[o.c,l.c,s.a,c.q,p.n],exports:[i]})],e)}()},Cllz:function(e,t,n){"use strict";var a=n("mrSG"),r=n("CcnG"),o=n("Ip0R"),i=function(){function e(){}return e.prototype.ngOnInit=function(){},a.__decorate([Object(r.G)(),a.__metadata("design:type",Object)],e.prototype,"filterCount",void 0),e=a.__decorate([Object(r.n)({selector:"app-filter-count",template:a.__importDefault(n("Kbf1")).default,styles:[a.__importDefault(n("q8mc")).default]}),a.__metadata("design:paramtypes",[])],e)}();n.d(t,"a",(function(){return l}));var l=function(){function e(){}return e=a.__decorate([Object(r.L)({imports:[o.c],declarations:[i],exports:[i]})],e)}()},FaG1:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,password:/^[^\s]+$/,name:/(.|\s)*\S(.|\s)*/,phone:"^[1-9][0-9]*$",price:/(^[0][1-9]+)|([1-9]\d*)+$/,alphaNumeric:"^[a-zA-Z0-9]+$",alphaNumericWithSpace:"^[a-zA-Z0-9 ]+$",alphabetsWithSpace:"^[a-zA-Z ]*$",onlyNumber:"^[0-9]*$",noSpace:/^\S*$/}},Kbf1:function(e,t,n){"use strict";n.r(t),t.default='<div class="btn filter-count"> <span>{{filterCount}}</span> filter applied</div>\n'},MzSu:function(e,t,n){"use strict";var a=n("mrSG"),r=n("CcnG"),o=n("Ip0R"),i=n("gIcY"),l=function(){function e(){this.setSearch=new r.x,this.search="",this.lastSearch=""}return e.prototype.ngOnInit=function(){},e.prototype.searchResult=function(){(this.search.trim()||this.lastSearch)&&(this.lastSearch=this.search,this.setSearch.emit(this.search))},e.prototype.resetSearch=function(){this.search="",this.lastSearch="",this.setSearch.emit("")},a.__decorate([Object(r.G)(),a.__metadata("design:type",Object)],e.prototype,"placeholder",void 0),a.__decorate([Object(r.S)(),a.__metadata("design:type",Object)],e.prototype,"setSearch",void 0),e=a.__decorate([Object(r.n)({selector:"app-search-filter",template:a.__importDefault(n("VvDc")).default,styles:[a.__importDefault(n("iQ7Y")).default]}),a.__metadata("design:paramtypes",[])],e)}(),s=n("SMsm"),c=n("seP3"),p=n("b716"),d=n("UodH");n.d(t,"a",(function(){return u}));var u=function(){function e(){}return e=a.__decorate([Object(r.L)({imports:[o.c,i.h,s.a,c.c,p.b,d.a],declarations:[l],exports:[l]})],e)}()},RrX5:function(e,t,n){"use strict";var a=n("mrSG"),r=n("CcnG"),o=n("Ip0R"),i=function(){function e(){this.maxDate=new Date}return e.prototype.ngOnInit=function(){var e=this;!0===this.dateObject.fromDetails&&(this.maxDate=null),this.minDateSubscriber=this.dateObject.fromDate.valueChanges.subscribe((function(t){t||(e.minDate=null)}))},e.prototype.dateChange=function(e){var t=e.value,n=new Date(t);this.minDate=new Date(n.getFullYear(),n.getMonth(),n.getDate()),this.dateObject.toDate.setValue(null)},e.prototype.setToDate=function(){if(this.dateObject.toDate.value){var e=new Date(this.dateObject.toDate.value);e.setHours(23),e.setMinutes(59),e.setSeconds(59),this.dateObject.toDate.setValue(e)}},e.prototype.ngOnDestroy=function(){this.minDateSubscriber.unsubscribe()},a.__decorate([Object(r.G)(),a.__metadata("design:type",Object)],e.prototype,"dateObject",void 0),e=a.__decorate([Object(r.n)({selector:"app-date-filter",template:a.__importDefault(n("qpK1")).default,styles:[a.__importDefault(n("T1hN")).default]}),a.__metadata("design:paramtypes",[])],e)}(),l=n("Wf4p"),s=n("jQLj"),c=n("seP3"),p=n("b716"),d=n("SMsm"),u=n("gIcY");n.d(t,"a",(function(){return m}));var m=function(){function e(){}return e=a.__decorate([Object(r.L)({declarations:[i],imports:[u.n,o.c,l.n,s.a,c.c,p.b,d.a],exports:[i]})],e)}()},SvHS:function(e,t,n){"use strict";n.r(t),t.default='@charset "UTF-8";\n.flex_row {\n  display: -webkit-box;\n  display: flex;\n  margin: 0 -10px;\n  -webkit-box-align: center;\n          align-items: center;\n}\n.breadcrumb {\n  width: 100%;\n  padding: 5px 15px;\n}\n.breadcrumb li {\n  display: inline-block;\n}\n.breadcrumb li a {\n  color: #006CB8;\n  text-decoration: none;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 400;\n  outline: none;\n}\n.breadcrumb li a:before {\n  padding: 0 10px;\n  color: #B7BEC1;\n  content: "/ ";\n  margin: auto;\n}\n.breadcrumb li a:after {\n  content: "/ ";\n  padding: 0 2px;\n  color: #A2ABAE;\n}\n.breadcrumb li a.active {\n  color: #262c2d;\n  cursor: default;\n}\n.breadcrumb li a.active:after {\n  display: none;\n}\n.breadcrumb li:first-child a:before, .breadcrumb li:first-child a:after {\n  display: none;\n}\n.white_wrapper.action {\n  overflow: inherit !important;\n  position: relative;\n}\n.actionmenu {\n  margin-top: 10px;\n  z-index: 9999;\n  border: 1px solid #e0e0e0;\n  position: absolute;\n  background: #fff;\n  top: 30px;\n  right: 0px;\n}\n.actionmenu li {\n  margin: 0;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-align: center;\n          align-items: center;\n  -webkit-box-pack: start;\n          justify-content: flex-start;\n  flex-wrap: wrap;\n  position: relative;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-direction: row;\n}\n.actionmenu li input {\n  width: 100%;\n}\n.csv-product {\n  background: transparent !important;\n  border: 0;\n  box-shadow: none;\n  color: #262c2d !important;\n  width: 100%;\n  -webkit-box-pack: start;\n          justify-content: flex-start;\n  display: -webkit-box;\n  display: flex;\n  font-family: "Segoe UI";\n  font-size: 13px;\n  position: relative;\n}\n.csv-product .mat-button-wrapper {\n  margin: 0;\n}\n.csv-product button {\n  background: transparent !important;\n  border: 0;\n  box-shadow: none;\n  color: #262c2d !important;\n  border-bottom: 1px solid #e0e0e0;\n  width: 100%;\n  font-family: "Segoe UI";\n  font-size: 13px;\n}\n.csv-product button .material-icons {\n  font-size: 19px;\n}\n.csv-product.upload input {\n  opacity: 0;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.uploadcsv {\n  background: transparent;\n  border: 0;\n  box-shadow: none;\n  color: #262c2d;\n  position: relative;\n  border-bottom: 1px solid #e0e0e0;\n}\n.uploadcsv input {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.rowFilterBox {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-align: center;\n          align-items: center;\n  -webkit-box-pack: start;\n          justify-content: flex-start;\n}\napp-search-filter {\n  width: 60%;\n}\n.uploadData {\n  text-align: center;\n}\n.uploadData label {\n  font-size: 13px;\n}\n.uploadData img {\n  width: 15px;\n  height: 15px;\n}\n.archieveData li {\n  margin-left: 10px;\n}\n.archieveData li a {\n  font-size: 14px;\n  font-weight: 400;\n  text-decoration: underline;\n  color: #006CB8;\n  font-family: "Segoe UI";\n}\n:host ::ng-deep .csv-product .mat-button-wrapper {\n  margin: 0;\n}\n:host ::ng-deep .csv-product button .material-icons {\n  font-size: 19px;\n}\n:host ::ng-deep .csv-product .material-icons {\n  font-size: 19px;\n}\n:host ::ng-deep .searchWrapper {\n  width: 100% !important;\n}\n:host ::ng-deep .btn_wrapper li {\n  padding: 0;\n}\n:host ::ng-deep .btn_wrapper li.action button.mat-raised-button.mat-primary {\n  background-color: transparent;\n  color: #091e42;\n  border: 1px solid #c0c2c2;\n}\n:host ::ng-deep .btn_wrapper li .actionmenu li button {\n  transition: all 0.5s ease;\n  -webkit-transition: all 0.5s ease;\n  -moz-transition: all 0.5s ease;\n}\n:host ::ng-deep .btn_wrapper li .actionmenu li button.mat-raised-button.mat-primary {\n  box-shadow: none;\n  border: 0;\n}\n:host ::ng-deep .btn_wrapper li .actionmenu li:hover {\n  background: #e8e8e8 !important;\n}\n:host ::ng-deep .btn_wrapper li .actionmenu li:first-child button.mat-raised-button.mat-primary {\n  border-bottom: 1px solid #e0e0e0;\n}\n:host ::ng-deep .mat-menu-content {\n  height: auto;\n}\nbutton.action_menu {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  cursor: pointer;\n  outline: 0;\n  min-width: 64px;\n  line-height: 36px;\n  padding: 0 16px;\n  border-radius: 4px;\n  overflow: visible;\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n  -webkit-transition: background 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);\n  transition: background 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);\n  background-color: transparent;\n  color: #091e42;\n  border: 1px solid #c0c2c2;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-align: center;\n          align-items: center;\n}\nbutton.action_menu .mat-icon {\n  position: relative;\n  right: 10px;\n}\n.medical_cab_symbol_option {\n  font-size: 20px;\n  color: red;\n}'},T1hN:function(e,t,n){"use strict";n.r(t),t.default='h4 {\n  font-weight: 500;\n  line-height: 19.5px;\n  font-family: "Segoe UI";\n  color: #091e42;\n}'},VvDc:function(e,t,n){"use strict";n.r(t),t.default='\x3c!-- <mat-form-field>\n    <input type="text" matInput [placeholder]="placeholder" (keyup.enter)="searchResult()" [(ngModel)]="search">\n    <button type="button" mat-button *ngIf="search.trim()" matSuffix mat-icon-button aria-label="Clear" (click)="resetSearch()">\n    <mat-icon>close</mat-icon>\n  </button>\n    <button type="button" mat-button (click)="searchResult()" class="search-btn" matSuffix>\n    <img src="./assets/images/search.svg" alt="search">\n  </button>\n</mat-form-field> --\x3e\n\n\n<div class="searchWrapper">\n    <div class="form_filed_wrapper">\n        <mat-form-field appearance="outline">\n            <mat-label>{{placeholder}}</mat-label>\n            <input matInput [placeholder]="placeholder" (keyup)="searchResult()" [(ngModel)]="search">\n            <mat-icon class="clear" *ngIf="search.trim()" (click)="resetSearch()">close</mat-icon>\n        </mat-form-field>\n        <mat-icon class="search">search</mat-icon>\n    </div>\n\n    \x3c!-- <input type="text" [placeholder]="placeholder" (keyup.enter)="searchResult()" [(ngModel)]="search"> --\x3e\n    \x3c!-- <input type="text" [placeholder]="placeholder"  [(ngModel)]="search">\n  <button type="button" class="clear" mat-button *ngIf="search.trim()" matSuffix mat-icon-button aria-label="Clear"\n    (click)="resetSearch()">\n    <mat-icon>close</mat-icon>\n  </button>\n  <button type="button" class="search" (click)="searchResult()">\n    Search\n  </button> --\x3e\n</div>\n'},buKM:function(e,t,n){"use strict";var a=n("mrSG"),r=n("CcnG"),o=n("gIcY"),i=n("FaG1"),l=100,s=8,c=20,p=3,d=100,u=10,m=10,f=3,h=1e3,b=1,g=10,v=2,_=20;n.d(t,"a",(function(){return x}));var x=function(){function e(){this.VALIDATION={name:[o.o.pattern(i.a.alphabetsWithSpace),o.o.minLength(p),o.o.maxLength(d)],profileName:[o.o.pattern(i.a.name),o.o.minLength(p),o.o.maxLength(d)],alphabetic:[o.o.pattern(i.a.alphabetsWithSpace),o.o.minLength(p),o.o.maxLength(d)],alphaNumeric:[o.o.pattern(i.a.alphaNumericWithSpace),o.o.minLength(p),o.o.maxLength(d)],price:[o.o.pattern(i.a.price),o.o.minLength(b),o.o.maxLength(g),o.o.min(0)],seatingCapacity:[o.o.required,o.o.pattern(i.a.phone),o.o.min(v),o.o.max(_)],email:[o.o.pattern(i.a.email),o.o.maxLength(l)],description:[o.o.pattern(i.a.name),o.o.minLength(f),o.o.maxLength(h)],password:[o.o.pattern(i.a.password),o.o.minLength(s),o.o.maxLength(c)],phone:[o.o.required,o.o.pattern(i.a.phone),o.o.minLength(u),o.o.maxLength(m)],crfLimitMonth:[o.o.required,o.o.pattern(i.a.onlyNumber)],cutOff:[],dropdown:[],checkbox:[],address:[o.o.required],longitude:[o.o.required],latitude:[o.o.required],startShift:[o.o.required],endShift:[o.o.required],googleAddress:[o.o.required,o.o.minLength(p),o.o.maxLength(d)],noSpace:[o.o.required,o.o.pattern(i.a.noSpace)]}}return e.prototype.matchPassword=function(e){var t=e.get("password").value,n=e.get("confirmPassword").value;t!==n?e.get("confirmPassword").setErrors({matchPassword:!0}):t===n&&e.get("confirmPassword").errors&&(delete e.get("confirmPassword").errors.matchPassword,0===Object.keys(e.get("confirmPassword").errors).length&&e.get("confirmPassword").setErrors(null))},e.prototype.getControl=function(e,t){void 0===t&&(t=!0);var n=this.VALIDATION[e].slice();return t&&("checkbox"===e?n.splice(0,0,o.o.requiredTrue):n.splice(0,0,o.o.required)),["",o.o.compose(n)]},e.prototype.getFilterFormControls=function(e){for(var t={},n=0,a=e;n<a.length;n++){t[a[n]]=[null]}return t},e=a.__decorate([Object(r.D)({providedIn:"root"}),a.__metadata("design:paramtypes",[])],e)}()},"c5r+":function(e,t,n){"use strict";n.r(t),t.default='<h4>\n  \x3c!-- {{dropdown.label}} --\x3e\n  &nbsp;\n</h4>\n<mat-form-field>\n  <mat-select [placeholder]="dropdown.label" [formControl]="dropdown.control">\n    <mat-option [value]="\'\'">All</mat-option>\n    <mat-option *ngFor="let item of dropdown.list" [value]="item.value">{{\n      item.viewValue\n    }}</mat-option>\n  </mat-select>\n</mat-form-field>\n'},iQ7Y:function(e,t,n){"use strict";n.r(t),t.default=".search_filter .mat-form-field-suffix .mat-icon {\n  color: #333 !important;\n}\n\n.search-btn {\n  min-width: 37px;\n  padding: 0 10px;\n}\n\n.searchWrapper {\n  position: relative;\n  margin: 3px 0 0 0;\n  width: 80%;\n}\n\n.searchWrapper input {\n  width: 89%;\n  height: auto;\n  padding: 6px 25px 6px 12px;\n  border-radius: 3px;\n  box-shadow: none;\n  -webkit-transition: border linear 0.2s, -webkit-box-shadow linear 0.2s;\n  -webkit-transition: border linear 0.2s, box-shadow linear 0.2s;\n  transition: border linear 0.2s, box-shadow linear 0.2s;\n}\n\n.searchWrapper .clear {\n  position: absolute;\n  right: 15px;\n  top: 15px;\n  width: 30px;\n  height: 30px;\n  font-size: 16px;\n  cursor: pointer;\n  outline: none;\n}\n\n.searchWrapper .search {\n  border-color: transparent;\n  border-radius: 4px;\n  margin: 0px 0 0 10px;\n  padding: 7px 10px;\n  outline: none;\n  cursor: pointer;\n  position: absolute;\n  top: 16px;\n  right: 10px;\n  font-size: 19px;\n  padding: 0;\n  background: #fff;\n}\n\n.white_wrapper .flex_row {\n  -webkit-box-align: start;\n          align-items: flex-start;\n}\n\n.white_wrapper .flex_row .flex_col_sm_7 {\n  margin-top: 20px;\n}\n\n:host ::ng-deep .searchWrapper .mat-form-field-appearance-outline .mat-form-field-infix {\n  padding: 0.4em 0 !important;\n  border-top: 0.14375em solid transparent;\n}\n\n:host ::ng-deep .searchWrapper .mat-form-field-appearance-outline .mat-form-field-label {\n  top: 1.9em !important;\n}\n\n:host ::ng-deep .searchWrapper .mat-form-field-appearance-outline .mat-form-field-label mat-label {\n  font-size: 14px;\n}\n\n:host ::ng-deep .searchWrapper .mat-form-field-appearance-outline.mat-form-field-should-float.mat-focused .mat-form-field-label {\n  top: 2.4em !important;\n}\n\n:host ::ng-deep .form_filed_wrapper {\n  margin: 0;\n}\n\n:host ::ng-deep .form_filed_wrapper .mat-form-field-wrapper {\n  padding: 0;\n}"},q8mc:function(e,t,n){"use strict";n.r(t),t.default=".filter-count {\n  cursor: default;\n  pointer-events: none;\n  color: #636F73;\n  font-size: 13px;\n}"},qpK1:function(e,t,n){"use strict";n.r(t),t.default='<h4>{{dateObject.label}}</h4>\n<div class="flex_row">\n  <div class="flex_col_sm_6">\n    <mat-form-field>\n      <input matInput [matDatepicker]="picker1" [formControl]="dateObject.fromDate" [max]="maxDate" (click)="picker1.open()"\n        (dateChange)="dateChange($event)" placeholder="From Date" readonly>\n      <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>\n      <mat-datepicker #picker1></mat-datepicker>\n    </mat-form-field>\n  </div>\n  <div class="flex_col_sm_6">\n    <mat-form-field>\n      <input #toDate matInput [formControl]="dateObject.toDate" (dateChange)="setToDate()" [max]="maxDate" [min]="minDate"\n        [matDatepicker]="picker2" (click)="picker2.open()" placeholder="To Date" readonly>\n      <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>\n      <mat-datepicker #picker2></mat-datepicker>\n    </mat-form-field>\n  </div>\n</div>\n'},utZl:function(e,t,n){"use strict";n.r(t),t.default=""},vJzl:function(e,t,n){"use strict";n.r(t);var a=n("mrSG"),r=n("Cllz"),o=n("CcnG"),i=n("Ip0R"),l=n("ZYCi"),s=n("RzZf"),c=n("buKM"),p=n("gIcY"),d=n("FTgb"),u=n("iiAa"),m=n("jRgp"),f=n("vblm"),h=n("67Y/"),b=n("9Z1F"),g=n("XlPw"),v=function(){function e(e,t,n,a){this._formService=e,this._formBuilder=t,this._http=n,this._utilityService=a}return e.prototype.getFilterForm=function(){return this._formBuilder.group(this._formService.getFilterFormControls(["fromDate","toDate","status","assigned","vendorId"]))},e.prototype.getCabs=function(e){return this._http.get(m.x,e)},e.prototype.searchVendor=function(e){return this._http.get(m.Rb,{searchKey:e},!1)},e.prototype.createFilterObject=function(e){return{registrationDate:{label:"Registration Date",fromDate:e.controls.fromDate,toDate:e.controls.toDate},status:{label:"Status",list:[{viewValue:"Active",value:"unblocked"},{viewValue:"Blocked",value:"blocked"}],control:e.controls.status},assigned:{label:"Assigned Status",list:[{viewValue:"Assigned",value:!0},{viewValue:"Unassigned",value:!1}],control:e.controls.assigned}}},e.prototype.changeStatus=function(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r,o,i,l;return a.__generator(this,(function(a){switch(a.label){case 0:return a.trys.push([0,5,,6]),n=e.status.toUpperCase(),r={message:""+(t&&"unblocked"!==e.status?f.c:"")+f.d[n].confirm("Cab"),showTextBox:"DELETED"===n},[4,this._utilityService.openDialog(r).toPromise()];case 1:return(o=a.sent())?[4,i="DELETED"===n?this._http.post(m.t+"/"+e.cabId,{comment:o.note}).toPromise():this._http.post(m.n+e.cabId,{status:e.status}).toPromise()]:[3,3];case 2:return a.sent(),this._utilityService.showAlert(f.d[n].success("Cab")),[2,Promise.resolve(i)];case 3:return[2,Promise.reject()];case 4:return[3,6];case 5:return l=a.sent(),[2,Promise.reject(l)];case 6:return[2]}}))}))},e.prototype.uploadFile=function(e){var t=this,n=new FormData;n.append("file",e);return this._http.post(m.r,n).pipe(Object(h.a)((function(e){return t._utilityService.showAlert(f.d.UPLOADED("File")),e})),Object(b.a)((function(e){return Object(g.a)(e)})))},e.ctorParameters=function(){return[{type:c.a},{type:p.d},{type:d.a},{type:u.a}]},e=a.__decorate([Object(o.D)(),a.__metadata("design:paramtypes",[c.a,p.d,d.a,u.a])],e)}(),_=n("BHnd"),x=n("ad02"),w=n("Gi3i"),y=n("xMyE"),D=n("VnD/"),C=n("15JJ"),k=n("yG5I"),S=n("F/us"),F=function(e){function t(t,n){var a=e.call(this)||this;return a._cabListService=t,a._utilityService=n,a.displayedColumns=["position","cabBadge","cabModel","registrationNo","seatingCapacity","vendorName","created","isAssigned","status","action"],a.cabs=new _.a([]),a.vendors=[],a.selectedVendorId="",a.appliedFilterCount=0,a.isFilterApplied=!1,a.csvFileName="",a.menu=!1,a.createFilterForm(),a.filterObject=a._cabListService.createFilterObject(a.filterForm),a.medicalCabValue=k.a[4].viewValue,a}return a.__extends(t,e),t.prototype.ngOnInit=function(){this.searchVendor(),this.getCabs()},t.prototype.createFilterForm=function(){this.filterForm=this._cabListService.getFilterForm()},t.prototype.getCabs=function(){var e=this,t=a.__assign({},this.changeDateFormat(this.filterForm.value),this.validPageOptions,{vendorId:this.selectedVendorId});this._cabListService.getCabs(t).subscribe((function(t){e.cabs.data=t.data.userList,e.total=t.data.totalCount}),(function(e){}))},t.prototype.searchVendor=function(){var e=this;this.filterForm.controls.vendorId.valueChanges.pipe(Object(x.a)(),Object(w.a)(100),Object(y.a)((function(t){"string"==typeof t&&(t.trim()?t.trim()&&(e.vendors=e.vendors.filter((function(e){return e.name.indexOf(t.trim())>=0}))):e.vendors=[])})),Object(D.a)((function(e){return e&&"string"==typeof e&&e.trim()&&e.trim().length>=0})),Object(C.a)((function(t){return e._cabListService.searchVendor(t)}))).subscribe((function(t){e.vendors=t.data}))},t.prototype.selectVendor=function(e){this.selectedVendorId=e.option.value._id,this.filterForm.get("vendorId").setValue(e.option.value.name)},t.prototype.uploadCSV=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n=this;return a.__generator(this,(function(a){return"application/vnd.ms-excel"===(t=e.target.files[0]).type?(this.csvFileName=t.name,this._cabListService.uploadFile(t).subscribe((function(e){e&&200==e.statusCode&&(n.csvFileName="",n.getCabs())}),(function(e){}))):this._utilityService.showAlert(Object(f.j)("only xls file allowed  ")),[2]}))}))},t.prototype.removeCSV=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){return this.csvFileName="",this.myInputVariable.nativeElement.value="",[2]}))}))},t.prototype.sortData=function(e){this.sortOptions=e,this.resetPages(),this.getCabs()},t.prototype.disable=function(){return!this.filterForm.dirty},t.prototype.changePage=function(e){this.pageOptionsOnChange=e,0!=this.total&&this.getCabs()},t.prototype.setSearch=function(e){this.search=e,this.resetPages(),this.getCabs()},t.prototype.resetFilter=function(){this.filterForm.reset(),this.selectedVendorId="",this.resetPages(),this.getCabs(),this.appliedFilterCount=0,this.isFilterApplied=!1},t.prototype.filter=function(){var e=Object.values(this.filterForm.value),t=S.filter(e,(function(e){return null!=e}));this.resetPages(),this.getCabs(),this.appliedFilterCount=t.length,this.isFilterApplied=!0},t.prototype.changeStatus=function(e,t,n){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this._cabListService.changeStatus({status:e,cabId:t},n)];case 1:return a.sent(),this.getCabs(),[3,3];case 2:return a.sent(),[3,3];case 3:return[2]}}))}))},t.prototype.ngAfterViewInit=function(){},t.ctorParameters=function(){return[{type:v},{type:u.a}]},a.__decorate([Object(o.ob)("upload_csv",{static:!1}),a.__metadata("design:type",o.u)],t.prototype,"myInputVariable",void 0),t=a.__decorate([Object(o.n)({selector:"app-cab-list",template:a.__importDefault(n("+XhO")).default,styles:[a.__importDefault(n("SvHS")).default]}),a.__metadata("design:paramtypes",[v,u.a])],t)}(s.a),O=n("seP3"),j=n("b716"),I=n("UodH"),A=n("SMsm"),L=n("v9Dh"),N=n("4epT"),V=n("OkvK"),z=n("4tE/"),P=n("mVsa"),M=n("Wf4p"),R=n("FpXt"),B=n("9sDP"),G=n("gdGC"),T=n("Wy86"),W=n("RrX5"),q=n("CaoY"),E=n("MzSu");n.d(t,"CabListModule",(function(){return H}));var H=function(){function e(){}return e=a.__decorate([Object(o.L)({declarations:[F],imports:[i.c,R.a,O.c,j.b,I.a,_.b,A.a,L.a,N.a,p.n,B.a,V.a,G.a,T.a,W.a,q.a,E.a,z.a,P.a,r.a,M.q,l.e.forChild([{path:"",component:F}])],providers:[v]})],e)}()}}]);