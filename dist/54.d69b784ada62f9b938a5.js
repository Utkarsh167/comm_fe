(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{"9sDP":function(e,n,a){"use strict";var r=a("mrSG"),l=a("CcnG"),i=a("Ip0R"),t=function(){function e(){}return e.prototype.transform=function(e,n){return null!=e?e:"-"},e=r.__decorate([Object(l.W)({name:"checkNull"}),r.__metadata("design:paramtypes",[])],e)}(),s=a("gIcY");a.d(n,"a",(function(){return d}));var d=function(){function e(){}return e=r.__decorate([Object(l.L)({imports:[i.c,s.n],declarations:[t],exports:[t]})],e)}()},QAOS:function(e,n,a){"use strict";a.r(n),n.default='@charset "UTF-8";\n.upload_img {\n  width: 150px;\n  height: 150px;\n  overflow: hidden;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  position: relative;\n}\n.upload_img img {\n  width: 150px;\n  height: 150px;\n  -o-object-fit: cover;\n     object-fit: cover;\n}\ntable {\n  border-collapse: collapse;\n  width: 100%;\n}\nth,\ntd {\n  padding: 8px;\n  text-align: left;\n  border-bottom: 1px solid #ddd;\n}\n.form_filed_wrapper_details {\n  margin-bottom: 50px;\n}\n.sm_img_preview {\n  width: 100px;\n  height: 100px;\n  overflow: hidden;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n}\n.sm_img_preview img {\n  width: 100px;\n  height: 100px;\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n.flex_row {\n  display: -webkit-box;\n  display: flex;\n  margin: 0 -10px;\n  -webkit-box-align: start;\n          align-items: flex-start;\n}\n.breadcrumb {\n  width: 100%;\n  padding: 5px 15px;\n}\n.breadcrumb li {\n  display: inline-block;\n}\n.breadcrumb li a {\n  color: #006CB8;\n  text-decoration: none;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 400;\n  outline: none;\n}\n.breadcrumb li a:before {\n  padding: 0 5px;\n  color: #B7BEC1;\n  content: "/ ";\n}\n.breadcrumb li a:after {\n  content: "/Â ";\n  padding: 0 2px;\n  color: #A2ABAE;\n}\n.breadcrumb li a.active {\n  color: #262c2d;\n  cursor: default;\n}\n.breadcrumb li a.active:after {\n  display: none;\n}\n.breadcrumb li:first-child a:before, .breadcrumb li:first-child a:after, .breadcrumb li:last-child a:before, .breadcrumb li:last-child a:after {\n  display: none;\n}\n.btn_wrapper li {\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-flow: row;\n}\n.btn_wrapper li button {\n  margin: 0 10px;\n}'},QkRV:function(e,n,a){"use strict";a.r(n);var r=a("mrSG"),l=a("CcnG"),i=a("Ip0R"),t=a("FTgb"),s=a("jRgp"),d=a("vblm"),o=a("iiAa"),c=function(){function e(e,n){this._http=e,this._utilityService=n}return e.prototype.getDriverDetail=function(e){return this._http.get(s.Ob,{userId:e})},e.prototype.changeStatus=function(e){return r.__awaiter(this,void 0,void 0,(function(){var n,a,l,i,t;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),n=e.status.toUpperCase(),a={message:d.d[n].confirm("Driver"),showTextBox:"DELETED"===n},[4,this._utilityService.openDialog(a).toPromise()];case 1:return(l=r.sent())?[4,i="DELETED"===n?this._http.post(s.Nb+e.userId,{comment:l.note}).toPromise():this._http.post(s.p+e.userId,{status:e.status}).toPromise()]:[3,3];case 2:return r.sent(),this._utilityService.showAlert(d.d[n].success("Driver")),[2,Promise.resolve(i)];case 3:return[2,Promise.resolve(null)];case 4:return[3,6];case 5:return t=r.sent(),[2,Promise.reject(t)];case 6:return[2]}}))}))},e.ctorParameters=function(){return[{type:t.a},{type:o.a}]},e=r.__decorate([Object(l.D)(),r.__metadata("design:paramtypes",[t.a,o.a])],e)}(),_=a("ZYCi"),f=a("Oy5v"),v=a("yG5I"),u=function(){function e(e,n,a){this._driverDetailService=e,this._route=n,this._router=a,this.documentTypes=v.b,this.drinkStatus=v.c,this.radioOptions=v.j}return e.prototype.ngOnInit=function(){this.driverId=this._route.snapshot.params.driverId,this.getDriverDetail()},e.prototype.getDriverDetail=function(){var e=this;this._driverDetailService.getDriverDetail(this.driverId).subscribe((function(n){n.data||e._router.navigate([f.DRIVER]),e.driver=n.data;var a=e.driver.documents.filter((function(n){return n.type===e.documentTypes.addressProof}))[0],r=e.driver.documents.filter((function(n){return n.type===e.documentTypes.fullDl}))[0],l=e.driver.documents.filter((function(n){return n.type===e.documentTypes.leftPalm}))[0],i=e.driver.documents.filter((function(n){return n.type===e.documentTypes.rightPalm}))[0];e.addressProof=a?a.frontImageUrl:"",e.dlUrl=r?r.frontImageUrl:"",e.leftPalmUrl=l?l.frontImageUrl:"",e.rightPalmUrl=i?i.frontImageUrl:""}),(function(n){e._router.navigate([f.DRIVER])}))},e.prototype.getFileName=function(e){return Object(v.p)(e)},e.prototype.getDrunkStatus=function(e){return this.drinkStatus.filter((function(n){return n.value==e}))[0]?this.drinkStatus.filter((function(n){return n.value==e}))[0].viewValue:""},e.prototype.getRadioStatus=function(e){return this.radioOptions.filter((function(n){return n.value==e}))[0]?this.radioOptions.filter((function(n){return n.value==e}))[0].viewValue:""},e.prototype.changeStatus=function(e,n){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this._driverDetailService.changeStatus({status:e,userId:n})];case 1:return a.sent()&&this.getDriverDetail(),[3,3];case 2:return a.sent(),[3,3];case 3:return[2]}}))}))},e.ctorParameters=function(){return[{type:c},{type:_.a},{type:_.d}]},e=r.__decorate([Object(l.n)({selector:"app-driver-detail",template:r.__importDefault(a("TF/J")).default,styles:[r.__importDefault(a("QAOS")).default]}),r.__metadata("design:paramtypes",[c,_.a,_.d])],e)}(),p=a("UodH"),m=a("FpXt"),b=a("9sDP"),h=a("gdGC"),g=a("Wy86"),w=a("m7P3");a.d(n,"DriverDetailModule",(function(){return x}));var x=function(){function e(){}return e=r.__decorate([Object(l.L)({declarations:[u],imports:[i.c,p.a,m.a,b.a,h.a,g.a,_.e.forChild([{path:"",component:u}]),w.a],providers:[c]})],e)}()},"TF/J":function(e,n,a){"use strict";a.r(n),n.default='<div class="custom_container">\n  <div class="white_wrapper">\n    <h2 class="heading">Driver Detail</h2>\n    <div class="flex_row">\n      <ul class="breadcrumb">\n        <li>\n          <a href="javascript:void(0)">Stakeholders</a>\n        </li>\n        <li>\n          <a routerLink="/admin/stakeholders/driver">Driver</a>\n        </li>\n        <li>\n          <a href="javascript:void(0)" class="active">Detail</a>\n        </li>\n      </ul>\n    </div>\n    <div class="form_wrapper" *ngIf="driver">\n      <div class="flex_row">\n        <div class="flex_col_sm_10">\n          <div class="flex_row m-t-sm">\n            <div class="flex_col_sm_3">\n              <div class="form_filed_wrapper_details">\n                <label class="form_label">Driver Image</label>\n                <figure class="upload_img">\n                  <img [src]="driver.profilePicture | customImage | async" />\n                </figure>\n              </div>\n            </div>\n            <div class="flex_col_sm_6">\n              <div class="flex_row">\n                <div class="flex_col_sm_5">\n                  <div class="form_filed_wrapper_details">\n                    <label class="form_label">Driving License</label>\n                    <a [href]="driver?.documents[0]?.frontImageUrl" target="_blank">\n                      <figure class="sm_img_preview">\n                        <img [src]="\n                            driver?.documents[0]?.frontImageUrl\n                              | fileType\n                          " />\n                      </figure>\n                    </a>\n                  </div>\n                </div>\n                <div class="flex_col_sm_5">\n                  <div class="form_filed_wrapper_details">\n                    <label class="form_label">Address Proof</label>\n                    <a [href]="driver?.documents[3]?.frontImageUrl" target="_blank">\n                      <figure class="sm_img_preview">\n                        <img [src]="\n                            driver?.documents[3]?.frontImageUrl\n                              | fileType\n                          " />\n                      </figure>\n                    </a>\n                  </div>\n                </div>\n              </div>\n\n              <div class="flex_row">\n                <div class="flex_col_sm_5">\n                  <div class="form_filed_wrapper_details">\n                    <label class="form_label">Left Palm</label>\n                    <a [href]="driver?.documents[1]?.frontImageUrl" target="_blank">\n                      <figure class="sm_img_preview">\n                        <img [src]="\n                            driver?.documents[1]?.frontImageUrl\n                              | fileType\n                          " />\n                      </figure>\n                    </a>\n                  </div>\n                </div>\n                <div class="flex_col_sm_5">\n                  <div class="form_filed_wrapper_details">\n                    <label class="form_label">Right Palm</label>\n                    <a [href]="driver?.documents[2]?.frontImageUrl" target="_blank">\n                      <figure class="sm_img_preview">\n                        <img [src]="\n                            driver?.documents[2]?.frontImageUrl\n                              | fileType\n                          " />\n                      </figure>\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          \x3c!-- <div class="flex_row m-t-sm">\n            <div class="flex_col_sm_2">\n              <div class="form_filed_wrapper_details">\n                <label class="form_label">Driving License</label>\n                <span class="show_label"><a class="view_details" [href]="dlUrl"\n                    target="_blank">{{getFileName(dlUrl)}}</a>\n                </span>\n              </div>\n            </div>\n            <div class="flex_col_sm_2">\n              <div class="form_filed_wrapper_details">\n                <label class="form_label">Left Palm</label>\n                <span class="show_label"><a class="view_details" [href]="leftPalmUrl"\n                    target="_blank">{{getFileName(leftPalmUrl)}}</a>\n                </span>\n              </div>\n            </div>\n            <div class="flex_col_sm_2">\n              <div class="form_filed_wrapper_details">\n                <label class="form_label">Right Palm</label>\n                <span class="show_label"><a class="view_details" [href]="rightPalmUrl"\n                    target="_blank">{{getFileName(rightPalmUrl)}}</a>\n                </span>\n              </div>\n            </div>\n            <div class="flex_col_sm_2">\n              <div class="form_filed_wrapper_details">\n                <label class="form_label">Address Proof</label>\n                <span class="show_label"><a class="view_details" [href]="addressProof"\n                    target="_blank">{{getFileName(addressProof)}}</a>\n                </span>\n              </div>\n            </div>\n          </div> --\x3e\n        </div>\n      </div>\n\n      <div class="flex_row">\n        <div class="flex_col_sm_3">\n          <div class="form_filed_wrapper_details">\n            <label class="form_label">Driver Name</label>\n            <span class="show_label">{{ driver.name }}</span>\n          </div>\n        </div>\n\n        <div class="flex_col_sm_3">\n          <div class="form_filed_wrapper_details">\n            <label class="form_label">Driver ID</label>\n            <span class="show_label">{{ driver.driverId }}</span>\n          </div>\n        </div>\n\n        <div class="flex_col_sm_3">\n          <div class="form_filed_wrapper_details">\n            <label class="form_label">Contact Number</label>\n            <span class="show_label">{{ driver.mobileNo }}</span>\n          </div>\n        </div>\n      </div>\n\n      <div class="flex_row">\n        <div class="flex_col_sm_3">\n          <div class="form_filed_wrapper_details">\n            <label class="form_label">Registration Date</label>\n            <span class="show_label">{{\n              driver.created | customDate | checkNull\n            }}</span>\n          </div>\n        </div>\n\n        <div class="flex_col_sm_3">\n          <div class="form_filed_wrapper_details">\n            <label class="form_label">Email</label>\n            <span class="show_label">{{ driver.email | checkNull }}</span>\n          </div>\n        </div>\n\n        <div class="flex_col_sm_3">\n          <div class="form_filed_wrapper_details">\n            <label class="form_label">Status</label>\n            <span class="show_label">{{\n              driver.status | status | titlecase | checkNull\n            }}</span>\n          </div>\n        </div>\n      </div>\n\n      <div class="flex_row">\n        <div class="flex_col_sm_3">\n          <div class="form_filed_wrapper_details">\n            <label class="form_label">Emergency Number</label>\n            <span class="show_label">{{ driver.emergencyNo | checkNull }}</span>\n          </div>\n        </div>\n\n        <div class="flex_col_sm_3">\n          <div class="form_filed_wrapper_details">\n            <label class="form_label">Drunker</label>\n            <span class="show_label">{{ getDrunkStatus(driver.drunker) }}</span>\n          </div>\n        </div>\n\n        <div class="flex_col_sm_3">\n          <div class="form_filed_wrapper_details">\n            <label class="form_label">Alcoholic/Non Alcoholic</label>\n            <span class="show_label">{{\n              getRadioStatus(driver.alcoholic)\n            }}</span>\n          </div>\n        </div>\n      </div>\n      <div class="flex_row">\n        <div class="flex_col_sm_3">\n          <div class="form_filed_wrapper_details">\n            <label class="form_label">Consuming Tobacco</label>\n            <span class="show_label">{{ getRadioStatus(driver.tobacco) }}</span>\n          </div>\n        </div>\n\n        <div class="flex_col_sm_3">\n          <div class="form_filed_wrapper_details">\n            <label class="form_label">BGV(Background Verification) Conducted</label>\n            <span class="show_label">{{\n              getRadioStatus(driver.backgroundVarified)\n            }}</span>\n          </div>\n        </div>\n\n        <div class="flex_col_sm_3">\n          <div class="form_filed_wrapper_details">\n            <label class="form_label">DL Badge Number</label>\n            <span class="show_label">{{ driver.DlBadgeNO | checkNull }}</span>\n          </div>\n        </div>\n      </div>\n\n      <div class="flex_row">\n        <div class="flex_col_sm_3">\n          <div class="form_filed_wrapper_details">\n            <label class="form_label" [style.margin-top]="driver.cab.length ? \'-40px\' : \'\'">DL Renewal Date</label>\n            <span class="show_label">{{\n              driver.dlRenewalDate | customDate\n            }}</span>\n          </div>\n        </div>\n      </div>\n\n      <div class="flex_row">\n        <div class="flex_col_sm_5">\n          <div class="form_filed_wrapper_details">\n            <label class="form_label">Cabs</label>\n            <span class="show_label" *ngIf="!driver.cab?.length">No Cabs Assigned</span>\n            <table *ngIf="driver.cab?.length">\n              <tr>\n                <th>Vendor</th>\n                <th>Cab</th>\n                \x3c!-- <th>Shift</th> --\x3e\n              </tr>\n              <tr *ngFor="let cab of driver.cab">\n                <td>\n                  <a [routerLink]="[\'VENDOR\' | absolutePath, cab.vendor?._id]"\n                    class="view_details">{{ cab.vendor?.name }}</a>\n                </td>\n                <td>\n                  <a [routerLink]="[\'CAB\' | absolutePath, cab._id]" class="view_details">{{ cab.cabModel }}</a>\n                </td>\n                \x3c!-- <td>{{cab.shift.shift}} </td> --\x3e\n              </tr>\n            </table>\n          </div>\n        </div>\n      </div>\n      <div class="flex_row">\n        <div class="flex_col_sm_10">\n          <div class="form_filed_wrapper_details text-center">\n            <ul class="btn_wrapper">\n              <li>\n                <button mat-raised-button color="primary" (click)="changeStatus(\'deleted\', driver._id)">Archive</button>\n                <button mat-raised-button color="primary"\n                                    (click)="\n                                    changeStatus(\n                                        driver.status === \'blocked\' ? \'unblocked\' : \'blocked\',\n                                        driver._id\n                                    )\n                                    ">\n                                  \n                                    {{ driver.status === "blocked" ? "un-block" : "Block" }}\n                                  </button>\n                <button mat-raised-button [routerLink]="[\'EDIT_DRIVER\' | absolutePath, driver?._id]" color="primary">\n                  Edit\n                </button>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'},gdGC:function(e,n,a){"use strict";var r=a("mrSG"),l=a("CcnG"),i=a("Ip0R"),t=function(){function e(e){this.datePipe=e}return e.prototype.transform=function(e,n){return e?this.datePipe.transform(e,"dd/MM/yyyy"):"-"},e.ctorParameters=function(){return[{type:i.e}]},e=r.__decorate([Object(l.W)({name:"customDate"}),r.__metadata("design:paramtypes",[i.e])],e)}();a.d(n,"a",(function(){return s}));var s=function(){function e(){}return e=r.__decorate([Object(l.L)({imports:[i.c],declarations:[t],exports:[t],providers:[i.e]})],e)}()}}]);