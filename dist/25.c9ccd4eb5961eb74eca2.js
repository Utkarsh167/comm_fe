(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"3V+5":function(e,t,n){"use strict";var a=n("mrSG"),r=n("CcnG"),i=n("vblm"),o=n("FaG1"),l=function(){function e(){}return e.prototype.transform=function(e,t,n){return e&&e.errors?this.getValidationError(e,t,n):""},e.prototype.getValidationError=function(e,t,n){return this.charMessage=n||"characters",e.hasError("required")?t+" is required":e.hasError("pattern")?function(e,t){return e==o.a.email?"Please enter a valid "+t.toLowerCase():e==o.a.password?Object(i.l)(t)+" can not contain blank spaces":e==o.a.name?Object(i.l)(t)+" can not be blank":e==o.a.phone?Object(i.l)(t)+" must contain only numbers and can not start with 0":e==o.a.onlyNumber?"Only digits are allowed":e==o.a.price?Object(i.l)(t)+" must be numeric":e==o.a.alphaNumeric?Object(i.l)(t)+" can contain only characters and numbers":e==o.a.alphaNumericWithSpace?Object(i.l)(t)+" can contain only characters and numbers":e==o.a.alphabetsWithSpace?Object(i.l)(t)+" can contain only characters and space":e==o.a.noSpace?Object(i.l)(t)+" can't contain space":void 0}(e.errors.pattern.requiredPattern,t):e.hasError("minlength")?Object(i.l)(t)+" must be at least "+e.errors.minlength.requiredLength+" "+this.charMessage+" long":e.hasError("maxlength")?Object(i.l)(t)+" can not be more than "+e.errors.maxlength.requiredLength+" "+this.charMessage+" long":e.hasError("matchPassword")?i.i[t].matchPassword||"":e.hasError("min")?Object(i.l)(t)+" can not be less than "+e.errors.min.min:e.hasError("max")?Object(i.l)(t)+" can not be greater than "+e.errors.max.max:e.hasError("alpha")?" Please enter correct "+Object(i.l)(t):void 0},e=a.__decorate([Object(r.W)({name:"validate",pure:!1}),a.__metadata("design:paramtypes",[])],e)}(),s=n("Ip0R"),c=n("gIcY");n.d(t,"a",(function(){return p}));var p=function(){function e(){}return e=a.__decorate([Object(r.L)({imports:[s.c,c.n],declarations:[l],exports:[l],providers:[]})],e)}()},BLgg:function(e,t,n){"use strict";n.r(t),t.default='<div class="white_wrapper">\n    <div class="flex_row">\n        <div class="flex_col_sm_5 rowFilterBox">\n            <app-search-filter [placeholder]="\'Search by model name, registration no., cabId and vendor name\'" (setSearch)="setSearch($event)">\n            </app-search-filter>\n        </div>\n        <div class="flex_col_sm_5">\n            <ul class="btn_wrapper text-right">\n                <li>\n                    <app-filter-count [filterCount]="appliedFilterCount"></app-filter-count>\n                </li>\n                <li> <button mat-raised-button (click)="showFilter=!showFilter" color="primary">\n                        <mat-icon>filter_list</mat-icon> Filter\n                    </button> </li>\n                <li> <button mat-raised-button (click)="addMapping(false)" color="primary">\n                        <mat-icon>add</mat-icon> Add Mapping\n            </button> </li>\n            </ul>\n        </div>\n    </div>\n\n    <div class="flex_row">\n        <ul class="breadcrumb">\n            <li>\n                <a href="javascript:void(0)">Stakeholders</a>\n            </li>\n            <li>\n                <a href="javascript:void(0)" class="active">Cab Mapping</a>\n            </li>\n        </ul>\n    </div>\n</div>\n\n<div class="white_wrapper filter_wrapper" [class.filter_wrapper_show]="showFilter">\n    <div class="flex_row">\n        <div class="flex_col_sm_4">\n            <app-date-filter [dateObject]="filterObject.registrationDate">\n            </app-date-filter>\n        </div>\n        \x3c!-- satyam -- remove status --\x3e\n        \x3c!-- <div class="flex_col_sm_3">\n            <app-dropdown-filter [dropdown]="filterObject.status"></app-dropdown-filter>\n        </div> --\x3e\n\n        <div style="margin-top: 19px;" class="flex_col_sm_2">\n            \x3c!-- <label class="form_label">&nbsp;</label> --\x3e\n            <mat-form-field>\n                <input [formControl]="filterForm.controls.seatingCapacity" numberOnly placeholder="Seating Capacity" matInput>\n            </mat-form-field>\n        </div>\n        <div style="margin-top: 19px;" class="flex_col_sm_2">\n            \x3c!-- <label class="form_label">&nbsp;</label> --\x3e\n            <mat-form-field>\n                <mat-label>Vendor Name</mat-label>\n                <mat-select [formControl]="filterForm.controls.vendorId" (selectionChange)="selectVendor($event)" placeholder="Select Vendor">\n                    <mat-option *ngFor="let vendor of vendors" [value]="vendor._id">\n                        {{vendor.name}}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n        </div>\n    </div>\n    \x3c!-- <div class="flex_row">\n       \n    </div> --\x3e\n    <div class="flex_row">\n        <div class="flex_col_sm_10 text-center">\n\n            <ul class="btn_wrapper">\n                <li> <button filter_btn mat-stroked-button [disabled]="disable()" (click)="resetFilter()">\n                        Reset\n                    </button>\n                </li>\n\n                <li>\n\n                    <button filter_btn mat-raised-button color="primary" [disabled]="disable()" (click)="filter()">\n                        Filter\n                    </button>\n                </li>\n            </ul>\n\n\n        </div>\n    </div>\n</div>\n\n<div class="white_wrapper">\n    <table mat-table [dataSource]="cabs" matSort (matSortChange)="sortData($event)" class="mat-elevation-z8">\n\n        \x3c!-- Position Column --\x3e\n        <ng-container matColumnDef="position">\n            <th mat-header-cell *matHeaderCellDef> No. </th>\n            <td mat-cell *matCellDef="let element;let i=index"> {{getSerialNumber(i+1)}} </td>\n        </ng-container>\n\n        <ng-container matColumnDef="cabBadge">\n            \x3c!-- change to cab id- satyam --\x3e\n            <th mat-header-cell *matHeaderCellDef  mat-sort-header> Cab Id </th>\n            \x3c!-- sort by cabId -- satyam --\x3e\n            <td mat-cell *matCellDef="let element" [ngClass]="(isFilterApplied && filterForm.value.routeNo)?\'appliedFilter\':\'\'">\n                {{element.routeNo|checkNull}}\n                \x3c!-- Added Medical cab - Shivakumar A --\x3e\n            <b class="medical_cab_symbol_option" *ngIf="element?.type === medicalCabValue">&#43;</b>\n            </td>\n          </ng-container>\n\n\n        \x3c!-- Name Column --\x3e\n        <ng-container matColumnDef="cabModel">\n            <th mat-header-cell mat-sort-header *matHeaderCellDef>Model Name</th>\n            <td mat-cell *matCellDef="let element">\n                <span class="view_details td-text-wrap" [routerLink]="[\'CAB\'|absolutePath,element._id]">\n                    {{element.cabModel|checkNull}}\n                </span>\n            </td>\n        </ng-container>\n\n        \x3c!-- Weight Column --\x3e\n        <ng-container matColumnDef="registrationNo">\n            <th mat-header-cell *matHeaderCellDef> Registration No. </th>\n            <td mat-cell *matCellDef="let element"> {{element.registrationNo|checkNull}} </td>\n        </ng-container>\n\n\n        <ng-container matColumnDef="seatingCapacity">\n            <th mat-header-cell *matHeaderCellDef>\n                <span [ngClass]="(isFilterApplied && filterForm.value.seatingCapacity)?\'appliedFilter\':\'\'"> Seating\n                    Capacity\n                </span>\n            </th>\n            <td mat-cell *matCellDef="let element"> {{element.seatingCapacity|checkNull}} </td>\n        </ng-container>\n\n        <ng-container matColumnDef="vendorName">\n            <th mat-header-cell *matHeaderCellDef>\n                <span [ngClass]="(isFilterApplied && filterForm.value.vendorId)?\'appliedFilter\':\'\'"> Vendor Name\n                </span>\n            </th>\n            <td mat-cell *matCellDef="let element"> <span class="td-text-wrap">{{element.vendorName|checkNull}}</span>\n            </td>\n        </ng-container>\n\n\n        <ng-container matColumnDef="created">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>\n                <span [ngClass]="(isFilterApplied && filterForm.value.fromDate)?\'appliedFilter\':\'\'">Registration Date\n                </span>\n            </th>\n            <td mat-cell *matCellDef="let element"> {{element.created|customDate}} </td>\n        </ng-container>\n\n        <ng-container matColumnDef="driver">\n            <th mat-header-cell *matHeaderCellDef> Driver </th>\n            <td mat-cell *matCellDef="let element">\n                <span class="view_details td-text-wrap" [routerLink]="[\'DRIVER\'|absolutePath,element.driverMapped?._id]">\n                    {{element.driverMapped?.name}}\n                </span>\n            </td>\n        </ng-container>\n\n        \x3c!-- <ng-container matColumnDef="shift">\n            <th mat-header-cell *matHeaderCellDef> Shift </th>\n            <td mat-cell *matCellDef="let element"> {{element.driverMapped?.shift.shift | checkNull}}\n            </td>\n        </ng-container> --\x3e\n\n\n        \x3c!-- <ng-container matColumnDef="status">\n            <th mat-header-cell *matHeaderCellDef>\n                <span [ngClass]="(isFilterApplied && filterForm.value.status)?\'appliedFilter\':\'\'"> Status\n                </span>\n            </th>\n            <td mat-cell *matCellDef="let element">\n                {{element.status|status|titlecase}}\n            </td>\n        </ng-container> --\x3e\n\n        \x3c!-- Symbol Column --\x3e\n        <ng-container matColumnDef="action">\n            <th mat-header-cell *matHeaderCellDef> Action </th>\n            <td mat-cell *matCellDef="let element">\n                <button mat-button [matMenuTriggerFor]="menu" class="btn-more-menu">\n                    <mat-icon>more_vert</mat-icon>\n                </button>\n                <mat-menu #menu="matMenu">\n                    <button mat-menu-item (click)="addMapping(true,element)">\n                        <mat-icon matTooltip="Unassign">edit</mat-icon> Edit\n                    </button>\n                    \x3c!-- <button mat-menu-item (click)="deleteMapping(element)">\n                        <mat-icon matTooltip="Unassign">delete</mat-icon> Delete\n                    </button> --\x3e\n                </mat-menu>\n            </td>\n        </ng-container>\n\n        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>\n        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>\n    </table>\n    <div class="white_wrapper" *ngIf="total===0">\n        <h2 class="not-found">No Cab Mapping Found</h2>\n    </div>\n    <div class="white_wrapper" *ngIf="cabs.data.length">\n        <mat-paginator [length]="total" [pageIndex]="page-1" [pageSize]="pageSize" [pageSizeOptions]="pageOptions" (page)="changePage($event)">\n        </mat-paginator>\n    </div>\n</div>\n'},CaoY:function(e,t,n){"use strict";var a=n("mrSG"),r=n("CcnG"),i=n("Ip0R"),o=function(){function e(){}return e.prototype.ngOnInit=function(){},a.__decorate([Object(r.G)(),a.__metadata("design:type",Object)],e.prototype,"dropdown",void 0),e=a.__decorate([Object(r.n)({selector:"app-dropdown-filter",template:a.__importDefault(n("c5r+")).default,styles:[a.__importDefault(n("utZl")).default]}),a.__metadata("design:paramtypes",[])],e)}(),l=n("seP3"),s=n("uGex"),c=n("Wf4p"),p=n("gIcY");n.d(t,"a",(function(){return d}));var d=function(){function e(){}return e=a.__decorate([Object(r.L)({declarations:[o],imports:[i.c,l.c,s.a,c.q,p.n],exports:[o]})],e)}()},Cllz:function(e,t,n){"use strict";var a=n("mrSG"),r=n("CcnG"),i=n("Ip0R"),o=function(){function e(){}return e.prototype.ngOnInit=function(){},a.__decorate([Object(r.G)(),a.__metadata("design:type",Object)],e.prototype,"filterCount",void 0),e=a.__decorate([Object(r.n)({selector:"app-filter-count",template:a.__importDefault(n("Kbf1")).default,styles:[a.__importDefault(n("q8mc")).default]}),a.__metadata("design:paramtypes",[])],e)}();n.d(t,"a",(function(){return l}));var l=function(){function e(){}return e=a.__decorate([Object(r.L)({imports:[i.c],declarations:[o],exports:[o]})],e)}()},FaG1:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,password:/^[^\s]+$/,name:/(.|\s)*\S(.|\s)*/,phone:"^[1-9][0-9]*$",price:/(^[0][1-9]+)|([1-9]\d*)+$/,alphaNumeric:"^[a-zA-Z0-9]+$",alphaNumericWithSpace:"^[a-zA-Z0-9 ]+$",alphabetsWithSpace:"^[a-zA-Z ]*$",onlyNumber:"^[0-9]*$",noSpace:/^\S*$/}},Kbf1:function(e,t,n){"use strict";n.r(t),t.default='<div class="btn filter-count"> <span>{{filterCount}}</span> filter applied</div>\n'},MzSu:function(e,t,n){"use strict";var a=n("mrSG"),r=n("CcnG"),i=n("Ip0R"),o=n("gIcY"),l=function(){function e(){this.setSearch=new r.x,this.search="",this.lastSearch=""}return e.prototype.ngOnInit=function(){},e.prototype.searchResult=function(){(this.search.trim()||this.lastSearch)&&(this.lastSearch=this.search,this.setSearch.emit(this.search))},e.prototype.resetSearch=function(){this.search="",this.lastSearch="",this.setSearch.emit("")},a.__decorate([Object(r.G)(),a.__metadata("design:type",Object)],e.prototype,"placeholder",void 0),a.__decorate([Object(r.S)(),a.__metadata("design:type",Object)],e.prototype,"setSearch",void 0),e=a.__decorate([Object(r.n)({selector:"app-search-filter",template:a.__importDefault(n("VvDc")).default,styles:[a.__importDefault(n("iQ7Y")).default]}),a.__metadata("design:paramtypes",[])],e)}(),s=n("SMsm"),c=n("seP3"),p=n("b716"),d=n("UodH");n.d(t,"a",(function(){return m}));var m=function(){function e(){}return e=a.__decorate([Object(r.L)({imports:[i.c,o.h,s.a,c.c,p.b,d.a],declarations:[l],exports:[l]})],e)}()},QadI:function(e,t,n){"use strict";n.r(t);var a=n("mrSG"),r=n("CcnG"),i=n("Ip0R"),o=n("ZYCi"),l=n("RzZf"),s=n("buKM"),c=n("gIcY"),p=n("FTgb"),d=n("iiAa"),m=n("jRgp"),u=n("vblm"),h=function(){function e(e,t,n,a){this._formService=e,this._formBuilder=t,this._http=n,this._utilityService=a}return e.prototype.getMappingForm=function(){return this._formBuilder.group({driverId:this._formService.getControl("name"),vendorId:this._formService.getControl("dropdown",!1),cabId:this._formService.getControl("dropdown")})},e.prototype.getFilterForm=function(){return this._formBuilder.group(this._formService.getFilterFormControls(["fromDate","toDate","status","seatingCapacity","vendorId"]))},e.prototype.createFilterObject=function(e){return{registrationDate:{label:"Registration Date",fromDate:e.controls.fromDate,toDate:e.controls.toDate},status:{label:"Status",list:[{viewValue:"Active",value:"unblocked"},{viewValue:"Blocked",value:"blocked"}],control:e.controls.status},assigned:{label:"Assigned Status",list:[{viewValue:"Assigned",value:!0},{viewValue:"Unassigned",value:!1}],control:e.controls.assigned}}},e.prototype.getMappedCabs=function(e){return this._http.get(m.w,e)},e.prototype.getCabs=function(e){return this._http.get(m.x,e)},e.prototype.getFilteredCabs=function(e){return this._http.get(m.t,e)},e.prototype.getAllShifts=function(){return this._http.get(m.G)},e.prototype.searchVendor=function(){return this._http.get(m.Rb,!1)},e.prototype.searchDriver=function(e){return this._http.get(m.S,{searchKey:e},!1)},e.prototype.addMapping=function(e){return this._http.put(m.y,e)},e.prototype.deleteMapping=function(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r,i;return a.__generator(this,(function(a){switch(a.label){case 0:return a.trys.push([0,5,,6]),n={message:Object(u.h)(t.driverMapped.name,t.cabModel)},[4,this._utilityService.openDialog(n).toPromise()];case 1:return a.sent()?[4,this._http.put(m.y,e).toPromise()]:[3,3];case 2:return r=a.sent(),this._utilityService.showAlert(u.e),[2,Promise.resolve(r)];case 3:return[2,Promise.reject()];case 4:return[3,6];case 5:return i=a.sent(),[2,Promise.reject(i)];case 6:return[2]}}))}))},e.prototype.showAlert=function(e){this._utilityService.showAlert(e)},e.ctorParameters=function(){return[{type:s.a},{type:c.d},{type:p.a},{type:d.a}]},e=a.__decorate([Object(r.D)(),a.__metadata("design:paramtypes",[s.a,c.d,p.a,d.a])],e)}(),f=n("BHnd"),b=n("o3x0"),g=n("ad02"),v=n("Gi3i"),_=n("VnD/"),y=n("15JJ"),x=n("yG5I"),C=function(){function e(e,t,n){this.dialogRef=e,this._cabMappingService=t,this.empdata=n,this.shifts=[],this.vendors=[],this.drivers=[],this.cabs=[],this.allShifts=[],this.shiftType=x.m,this.cabPlaceHolder="Select Cab",this.selected="",this.data=n,this.createForm(),this.medicalCabValue=x.a[4].viewValue}return e.prototype.ngOnInit=function(){this.searchVendor(),this.searchDriver(),this.data.isEdit&&(this.mappingForm.controls.cabId.clearValidators(),this.getAndSetFormValue())},e.prototype.assignMedicalCabSymbol=function(e){e.type===this.medicalCabValue?this.selected="medical_cab_symbol":this.selected=""},e.prototype.getAndSetFormValue=function(){this.mappingForm.patchValue({driverId:this.data.cabData.driverMapped.name,vendorId:this.data.cabData.vendorName,cabId:this.data.cabData.routeNo})},e.prototype.getAllShifts=function(){var e=this;this._cabMappingService.getAllShifts().subscribe((function(t){e.allShifts=t.data.shiftSlot}),(function(e){}))},e.prototype.createForm=function(){this.mappingForm=this._cabMappingService.getMappingForm()},e.prototype.addMapping=function(){var e=this;if(!this.mappingForm.invalid&&!this.mappingForm.disabled)if(this.selectedDriverId){var t={driverId:this.selectedDriverId};this.data.isEdit?(t.mappedType="Update",t.cabId=this.data.cabData._id):(t.mappedType="Assigned",t.cabId=this.mappingForm.value.cabId._id),this._cabMappingService.addMapping(t).subscribe((function(t){e._cabMappingService.showAlert(u.d.ADDED("Mapping")),e.closePopup(t)}),(function(e){}))}else this._cabMappingService.showAlert(u.a.selectDriver)},e.prototype.closePopup=function(e){void 0===e&&(e=null),this.dialogRef.close(e)},e.prototype.getControl=function(e){return this.mappingForm.controls[e]},e.prototype.searchVendor=function(){var e=this;this._cabMappingService.searchVendor().subscribe((function(t){t&&200==t.statusCode&&(e.vendors=t.data)}))},e.prototype.selectVendor=function(e){this.getCabs(e.value)},e.prototype.getCabs=function(e){var t=this,n={vendorId:e};this._cabMappingService.getFilteredCabs(n).subscribe((function(e){e&&e.data.length?(t.cabPlaceHolder="Select Cab",t.cabs=e.data):(t.cabs=[],t.cabPlaceHolder="No Cab Found")}))},e.prototype.searchDriver=function(){var e=this;this.mappingForm.controls.driverId.valueChanges.pipe(Object(g.a)(),Object(v.a)(500),Object(_.a)((function(e){return e&&"string"==typeof e&&e.trim()&&e.trim().length>=3})),Object(y.a)((function(t){return e._cabMappingService.searchDriver(t)}))).subscribe((function(t){e.drivers=t.data}))},e.prototype.selectDriver=function(e){this.selectedDriverId=e.option.value._id,this.mappingForm.get("driverId").setValue(e.option.value.name)},e.ctorParameters=function(){return[{type:b.e},{type:h},{type:void 0,decorators:[{type:r.C,args:[b.a]}]}]},e=a.__decorate([Object(r.n)({selector:"app-add-mapping",template:a.__importDefault(n("shec")).default,styles:[a.__importDefault(n("n6h1")).default]}),a.__param(2,Object(r.C)(b.a)),a.__metadata("design:paramtypes",[b.e,h,Object])],e)}(),w=n("F/us"),D=function(e){function t(t,n){var a=e.call(this)||this;return a._cabMappingService=t,a._dialog=n,a.displayedColumns=["position","cabBadge","cabModel","registrationNo","seatingCapacity","vendorName","created","driver","action"],a.cabs=new f.a([]),a.vendors=[],a.selectedVendorId="",a.appliedFilterCount=0,a.isFilterApplied=!1,a.createFilterForm(),a.filterObject=a._cabMappingService.createFilterObject(a.filterForm),a.medicalCabValue=x.a[4].viewValue,a}return a.__extends(t,e),t.prototype.ngOnInit=function(){this.searchVendor(),this.getCabs()},t.prototype.createFilterForm=function(){this.filterForm=this._cabMappingService.getFilterForm()},t.prototype.getCabs=function(){var e=this,t=a.__assign({},this.changeDateFormat(this.filterForm.value),this.validPageOptions,{vendorId:this.selectedVendorId});this._cabMappingService.getMappedCabs(t).subscribe((function(t){e.cabs.data=t.data.userList,e.total=t.data.totalCount}),(function(e){}))},t.prototype.searchVendor=function(){var e=this;this._cabMappingService.searchVendor().subscribe((function(t){t&&200==t.statusCode&&(e.vendors=t.data)}))},t.prototype.selectVendor=function(e){this.selectedVendorId=e.value},t.prototype.sortData=function(e){this.sortOptions=e,this.resetPages(),this.getCabs()},t.prototype.disable=function(){return!this.filterForm.dirty},t.prototype.changePage=function(e){this.pageOptionsOnChange=e,0!=this.total&&this.getCabs()},t.prototype.setSearch=function(e){this.search=e,this.resetPages(),this.getCabs()},t.prototype.resetFilter=function(){this.filterForm.reset(),this.selectedVendorId="",this.resetPages(),this.getCabs(),this.appliedFilterCount=0,this.isFilterApplied=!1},t.prototype.filter=function(){var e=Object.values(this.filterForm.value),t=w.filter(e,(function(e){return null!=e}));this.resetPages(),this.getCabs(),this.appliedFilterCount=t.length,this.isFilterApplied=!0},t.prototype.addMapping=function(e,t){var n=this,a={isEdit:e,cabData:t},r=new b.c;r.width="500px",r.data=a,this._dialog.open(C,r).afterClosed().subscribe((function(e){e&&(n.resetPages(),n.getCabs())}))},t.prototype.deleteMapping=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t;return a.__generator(this,(function(n){switch(n.label){case 0:t={driverId:e.driverMapped._id,cabId:e._id,shift:e.driverMapped.shift.shift,shiftType:e.driverMapped.shift.shiftType,mappedType:"Unassigned"},n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._cabMappingService.deleteMapping(t,e)];case 2:return n.sent(),this.getCabs(),[3,4];case 3:return n.sent(),[3,4];case 4:return[2]}}))}))},t.ctorParameters=function(){return[{type:h},{type:b.b}]},t=a.__decorate([Object(r.n)({selector:"app-cab-mapping-list",template:a.__importDefault(n("BLgg")).default,styles:[a.__importDefault(n("RbSy")).default]}),a.__metadata("design:paramtypes",[h,b.b])],t)}(l.a),S=n("seP3"),F=n("b716"),I=n("UodH"),O=n("SMsm"),k=n("v9Dh"),M=n("4epT"),j=n("OkvK"),V=n("4tE/"),A=n("uGex"),P=n("Wf4p"),N=n("mVsa"),L=n("FpXt"),E=n("9sDP"),R=n("gdGC"),G=n("Wy86"),q=n("RrX5"),W=n("CaoY"),H=n("MzSu"),z=n("3V+5"),T=n("IKo7"),$=n("Cllz"),B=n("jLZc");n.d(t,"CabMappingModule",(function(){return Y}));var Y=function(){function e(){}return e=a.__decorate([Object(r.L)({declarations:[D,C],imports:[i.c,L.a,S.c,b.d,F.b,I.a,f.b,O.a,k.a,M.a,c.n,E.a,j.a,R.a,G.a,q.a,W.a,H.a,V.a,A.a,z.a,T.a,P.q,$.a,N.a,B.a,o.e.forChild([{path:"",component:D}])],providers:[h],entryComponents:[C]})],e)}()},RbSy:function(e,t,n){"use strict";n.r(t),t.default='@charset "UTF-8";\n.breadcrumb {\n  width: 100%;\n  padding: 5px 15px;\n}\n.breadcrumb li {\n  display: inline-block;\n}\n.breadcrumb li a {\n  color: #006CB8;\n  text-decoration: none;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 400;\n  outline: none;\n}\n.breadcrumb li a:before {\n  padding: 0 10px;\n  color: #B7BEC1;\n  content: "/ ";\n  margin: auto;\n}\n.breadcrumb li a:after {\n  content: "/ ";\n  padding: 0 2px;\n  color: #A2ABAE;\n}\n.breadcrumb li a.active {\n  color: #262c2d;\n  cursor: default;\n}\n.breadcrumb li a.active:after {\n  display: none;\n}\n.breadcrumb li:first-child a:before, .breadcrumb li:first-child a:after {\n  display: none;\n}\napp-search-filter {\n  width: 60%;\n}\n.rowFilterBox {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-align: center;\n          align-items: center;\n  -webkit-box-pack: start;\n          justify-content: flex-start;\n}\n:host ::ng-deep .searchWrapper {\n  width: 100% !important;\n}\n.medical_cab_symbol_option {\n  font-size: 20px;\n  color: red;\n}'},RrX5:function(e,t,n){"use strict";var a=n("mrSG"),r=n("CcnG"),i=n("Ip0R"),o=function(){function e(){this.maxDate=new Date}return e.prototype.ngOnInit=function(){var e=this;!0===this.dateObject.fromDetails&&(this.maxDate=null),this.minDateSubscriber=this.dateObject.fromDate.valueChanges.subscribe((function(t){t||(e.minDate=null)}))},e.prototype.dateChange=function(e){var t=e.value,n=new Date(t);this.minDate=new Date(n.getFullYear(),n.getMonth(),n.getDate()),this.dateObject.toDate.setValue(null)},e.prototype.setToDate=function(){if(this.dateObject.toDate.value){var e=new Date(this.dateObject.toDate.value);e.setHours(23),e.setMinutes(59),e.setSeconds(59),this.dateObject.toDate.setValue(e)}},e.prototype.ngOnDestroy=function(){this.minDateSubscriber.unsubscribe()},a.__decorate([Object(r.G)(),a.__metadata("design:type",Object)],e.prototype,"dateObject",void 0),e=a.__decorate([Object(r.n)({selector:"app-date-filter",template:a.__importDefault(n("qpK1")).default,styles:[a.__importDefault(n("T1hN")).default]}),a.__metadata("design:paramtypes",[])],e)}(),l=n("Wf4p"),s=n("jQLj"),c=n("seP3"),p=n("b716"),d=n("SMsm"),m=n("gIcY");n.d(t,"a",(function(){return u}));var u=function(){function e(){}return e=a.__decorate([Object(r.L)({declarations:[o],imports:[m.n,i.c,l.n,s.a,c.c,p.b,d.a],exports:[o]})],e)}()},T1hN:function(e,t,n){"use strict";n.r(t),t.default='h4 {\n  font-weight: 500;\n  line-height: 19.5px;\n  font-family: "Segoe UI";\n  color: #091e42;\n}'},VvDc:function(e,t,n){"use strict";n.r(t),t.default='\x3c!-- <mat-form-field>\n    <input type="text" matInput [placeholder]="placeholder" (keyup.enter)="searchResult()" [(ngModel)]="search">\n    <button type="button" mat-button *ngIf="search.trim()" matSuffix mat-icon-button aria-label="Clear" (click)="resetSearch()">\n    <mat-icon>close</mat-icon>\n  </button>\n    <button type="button" mat-button (click)="searchResult()" class="search-btn" matSuffix>\n    <img src="./assets/images/search.svg" alt="search">\n  </button>\n</mat-form-field> --\x3e\n\n\n<div class="searchWrapper">\n    <div class="form_filed_wrapper">\n        <mat-form-field appearance="outline">\n            <mat-label>{{placeholder}}</mat-label>\n            <input matInput [placeholder]="placeholder" (keyup)="searchResult()" [(ngModel)]="search">\n            <mat-icon class="clear" *ngIf="search.trim()" (click)="resetSearch()">close</mat-icon>\n        </mat-form-field>\n        <mat-icon class="search">search</mat-icon>\n    </div>\n\n    \x3c!-- <input type="text" [placeholder]="placeholder" (keyup.enter)="searchResult()" [(ngModel)]="search"> --\x3e\n    \x3c!-- <input type="text" [placeholder]="placeholder"  [(ngModel)]="search">\n  <button type="button" class="clear" mat-button *ngIf="search.trim()" matSuffix mat-icon-button aria-label="Clear"\n    (click)="resetSearch()">\n    <mat-icon>close</mat-icon>\n  </button>\n  <button type="button" class="search" (click)="searchResult()">\n    Search\n  </button> --\x3e\n</div>\n'},buKM:function(e,t,n){"use strict";var a=n("mrSG"),r=n("CcnG"),i=n("gIcY"),o=n("FaG1"),l=100,s=8,c=20,p=3,d=100,m=10,u=10,h=3,f=1e3,b=1,g=10,v=2,_=20;n.d(t,"a",(function(){return y}));var y=function(){function e(){this.VALIDATION={name:[i.o.pattern(o.a.alphabetsWithSpace),i.o.minLength(p),i.o.maxLength(d)],profileName:[i.o.pattern(o.a.name),i.o.minLength(p),i.o.maxLength(d)],alphabetic:[i.o.pattern(o.a.alphabetsWithSpace),i.o.minLength(p),i.o.maxLength(d)],alphaNumeric:[i.o.pattern(o.a.alphaNumericWithSpace),i.o.minLength(p),i.o.maxLength(d)],price:[i.o.pattern(o.a.price),i.o.minLength(b),i.o.maxLength(g),i.o.min(0)],seatingCapacity:[i.o.required,i.o.pattern(o.a.phone),i.o.min(v),i.o.max(_)],email:[i.o.pattern(o.a.email),i.o.maxLength(l)],description:[i.o.pattern(o.a.name),i.o.minLength(h),i.o.maxLength(f)],password:[i.o.pattern(o.a.password),i.o.minLength(s),i.o.maxLength(c)],phone:[i.o.required,i.o.pattern(o.a.phone),i.o.minLength(m),i.o.maxLength(u)],crfLimitMonth:[i.o.required,i.o.pattern(o.a.onlyNumber)],cutOff:[],dropdown:[],checkbox:[],address:[i.o.required],longitude:[i.o.required],latitude:[i.o.required],startShift:[i.o.required],endShift:[i.o.required],googleAddress:[i.o.required,i.o.minLength(p),i.o.maxLength(d)],noSpace:[i.o.required,i.o.pattern(o.a.noSpace)]}}return e.prototype.matchPassword=function(e){var t=e.get("password").value,n=e.get("confirmPassword").value;t!==n?e.get("confirmPassword").setErrors({matchPassword:!0}):t===n&&e.get("confirmPassword").errors&&(delete e.get("confirmPassword").errors.matchPassword,0===Object.keys(e.get("confirmPassword").errors).length&&e.get("confirmPassword").setErrors(null))},e.prototype.getControl=function(e,t){void 0===t&&(t=!0);var n=this.VALIDATION[e].slice();return t&&("checkbox"===e?n.splice(0,0,i.o.requiredTrue):n.splice(0,0,i.o.required)),["",i.o.compose(n)]},e.prototype.getFilterFormControls=function(e){for(var t={},n=0,a=e;n<a.length;n++){t[a[n]]=[null]}return t},e=a.__decorate([Object(r.D)({providedIn:"root"}),a.__metadata("design:paramtypes",[])],e)}()},"c5r+":function(e,t,n){"use strict";n.r(t),t.default='<h4>\n  \x3c!-- {{dropdown.label}} --\x3e\n  &nbsp;\n</h4>\n<mat-form-field>\n  <mat-select [placeholder]="dropdown.label" [formControl]="dropdown.control">\n    <mat-option [value]="\'\'">All</mat-option>\n    <mat-option *ngFor="let item of dropdown.list" [value]="item.value">{{\n      item.viewValue\n    }}</mat-option>\n  </mat-select>\n</mat-form-field>\n'},iQ7Y:function(e,t,n){"use strict";n.r(t),t.default=".search_filter .mat-form-field-suffix .mat-icon {\n  color: #333 !important;\n}\n\n.search-btn {\n  min-width: 37px;\n  padding: 0 10px;\n}\n\n.searchWrapper {\n  position: relative;\n  margin: 3px 0 0 0;\n  width: 80%;\n}\n\n.searchWrapper input {\n  width: 89%;\n  height: auto;\n  padding: 6px 25px 6px 12px;\n  border-radius: 3px;\n  box-shadow: none;\n  -webkit-transition: border linear 0.2s, -webkit-box-shadow linear 0.2s;\n  -webkit-transition: border linear 0.2s, box-shadow linear 0.2s;\n  transition: border linear 0.2s, box-shadow linear 0.2s;\n}\n\n.searchWrapper .clear {\n  position: absolute;\n  right: 15px;\n  top: 15px;\n  width: 30px;\n  height: 30px;\n  font-size: 16px;\n  cursor: pointer;\n  outline: none;\n}\n\n.searchWrapper .search {\n  border-color: transparent;\n  border-radius: 4px;\n  margin: 0px 0 0 10px;\n  padding: 7px 10px;\n  outline: none;\n  cursor: pointer;\n  position: absolute;\n  top: 16px;\n  right: 10px;\n  font-size: 19px;\n  padding: 0;\n  background: #fff;\n}\n\n.white_wrapper .flex_row {\n  -webkit-box-align: start;\n          align-items: flex-start;\n}\n\n.white_wrapper .flex_row .flex_col_sm_7 {\n  margin-top: 20px;\n}\n\n:host ::ng-deep .searchWrapper .mat-form-field-appearance-outline .mat-form-field-infix {\n  padding: 0.4em 0 !important;\n  border-top: 0.14375em solid transparent;\n}\n\n:host ::ng-deep .searchWrapper .mat-form-field-appearance-outline .mat-form-field-label {\n  top: 1.9em !important;\n}\n\n:host ::ng-deep .searchWrapper .mat-form-field-appearance-outline .mat-form-field-label mat-label {\n  font-size: 14px;\n}\n\n:host ::ng-deep .searchWrapper .mat-form-field-appearance-outline.mat-form-field-should-float.mat-focused .mat-form-field-label {\n  top: 2.4em !important;\n}\n\n:host ::ng-deep .form_filed_wrapper {\n  margin: 0;\n}\n\n:host ::ng-deep .form_filed_wrapper .mat-form-field-wrapper {\n  padding: 0;\n}"},n6h1:function(e,t,n){"use strict";n.r(t),t.default=".mat-dialog-actions {\n  -webkit-box-pack: center;\n          justify-content: center;\n  margin-bottom: 0px;\n  -webkit-box-align: center;\n          align-items: center;\n  display: -webkit-box;\n  display: flex;\n}\n.mat-dialog-actions button {\n  min-width: 100px;\n}\n.mat-dialog-actions button + button {\n  margin-left: 20px;\n}\n.btn_wrapper li .mat-raised-button.mat-primary {\n  background-color: #79f2c0;\n  color: #091e42;\n}\n.medical_cab_symbol {\n  background: url('medicalCab.b74564dea42f4dbe3917.png') left/contain no-repeat;\n  white-space: nowrap;\n  background-position: 90% 50%;\n}\n.medical_cab_symbol_option {\n  float: right;\n  margin-top: 15px;\n}"},q8mc:function(e,t,n){"use strict";n.r(t),t.default=".filter-count {\n  cursor: default;\n  pointer-events: none;\n  color: #636F73;\n  font-size: 13px;\n}"},qpK1:function(e,t,n){"use strict";n.r(t),t.default='<h4>{{dateObject.label}}</h4>\n<div class="flex_row">\n  <div class="flex_col_sm_6">\n    <mat-form-field>\n      <input matInput [matDatepicker]="picker1" [formControl]="dateObject.fromDate" [max]="maxDate" (click)="picker1.open()"\n        (dateChange)="dateChange($event)" placeholder="From Date" readonly>\n      <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>\n      <mat-datepicker #picker1></mat-datepicker>\n    </mat-form-field>\n  </div>\n  <div class="flex_col_sm_6">\n    <mat-form-field>\n      <input #toDate matInput [formControl]="dateObject.toDate" (dateChange)="setToDate()" [max]="maxDate" [min]="minDate"\n        [matDatepicker]="picker2" (click)="picker2.open()" placeholder="To Date" readonly>\n      <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>\n      <mat-datepicker #picker2></mat-datepicker>\n    </mat-form-field>\n  </div>\n</div>\n'},shec:function(e,t,n){"use strict";n.r(t),t.default='<h1 mat-dialog-title style="text-align: center" *ngIf="!data.isEdit">Add Cab Mapping</h1>\n<h1 mat-dialog-title style="text-align: center" *ngIf="data.isEdit">Edit Cab Mapping</h1>\n<form [formGroup]="mappingForm" (ngSubmit)="addMapping()">\n    <mat-dialog-content>\n        <div class="modal_message">\n            <div mat-dialog-actionst>\n                <mat-form-field appearance="outline" *ngIf="!data.isEdit">\n                \x3c!-- <mat-form-field appearance="outline"> --\x3e\n                    <mat-label>Vendor Name</mat-label>\n                    <mat-select (selectionChange)="selectVendor($event)" formControlName="vendorId"\n                        placeholder="Select Vendor">\n                        <mat-option *ngFor="let vendor of vendors" [value]="vendor._id">\n                            {{vendor.name}}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n\n                <mat-form-field appearance="outline" *ngIf="!data.isEdit">\n                    <mat-label>{{cabPlaceHolder}}</mat-label>\n                    <mat-select formControlName="cabId" [placeholder]="cabPlaceHolder" [ngClass]="selected" (ngModelChange)="assignMedicalCabSymbol($event)">\n                        <mat-option *ngFor="let cab of cabs" [value]="cab">\n                            {{cab.routeNo}} <img class="medical_cab_symbol_option" *ngIf="cab.type === medicalCabValue" src="assets/images/medicalCab.png"/>\n                        </mat-option>\n                    </mat-select>\n                    <mat-error>\n                        {{getControl(\'cabId\')|validate:\'Cab\'}}\n                    </mat-error>\n                </mat-form-field>\n\n                <mat-form-field appearance="outline">\n                    <mat-label>Enter driver name</mat-label>\n                    <input formControlName="driverId" placeholder="Search Driver" [matAutocomplete]="auto1" matInput>\n                    <mat-hint>Search driver by entering at least 3 characters</mat-hint>\n                    <mat-autocomplete (optionSelected)="selectDriver($event)" #auto1="matAutocomplete">\n                        <mat-option *ngFor="let driver of drivers" [value]="driver">\n                            {{driver.name}}\n                        </mat-option>\n                    </mat-autocomplete>\n                    <mat-error>\n                        {{getControl(\'driverId\')|validate:\'Driver\'}}\n                    </mat-error>\n                </mat-form-field>\n\n            </div>\n        </div>\n\n    </mat-dialog-content>\n\n    <mat-dialog-actions>\n        <ul class="btn_wrapper">\n            <li>\n                <button mat-stroked-button type="button" (click)="closePopup()" class="modal-btn no">\n                    Cancel\n                </button>\n            </li>\n            <li>\n                <button mat-raised-button mat-raised-button color="primary" type="submit" *ngIf="!data.isEdit">\n                    Add\n                </button>\n\n                <button mat-raised-button mat-raised-button color="primary" type="submit" *ngIf="data.isEdit">\n                    Edit\n                </button>\n            </li>\n        </ul>\n\n\n    </mat-dialog-actions>\n</form>'},utZl:function(e,t,n){"use strict";n.r(t),t.default=""}}]);