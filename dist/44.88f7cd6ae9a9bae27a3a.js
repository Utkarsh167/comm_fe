(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{"3V+5":function(e,t,n){"use strict";var a=n("mrSG"),r=n("CcnG"),i=n("vblm"),o=n("FaG1"),l=function(){function e(){}return e.prototype.transform=function(e,t,n){return e&&e.errors?this.getValidationError(e,t,n):""},e.prototype.getValidationError=function(e,t,n){return this.charMessage=n||"characters",e.hasError("required")?t+" is required":e.hasError("pattern")?function(e,t){return e==o.a.email?"Please enter a valid "+t.toLowerCase():e==o.a.password?Object(i.l)(t)+" can not contain blank spaces":e==o.a.name?Object(i.l)(t)+" can not be blank":e==o.a.phone?Object(i.l)(t)+" must contain only numbers and can not start with 0":e==o.a.onlyNumber?"Only digits are allowed":e==o.a.price?Object(i.l)(t)+" must be numeric":e==o.a.alphaNumeric?Object(i.l)(t)+" can contain only characters and numbers":e==o.a.alphaNumericWithSpace?Object(i.l)(t)+" can contain only characters and numbers":e==o.a.alphabetsWithSpace?Object(i.l)(t)+" can contain only characters and space":e==o.a.noSpace?Object(i.l)(t)+" can't contain space":void 0}(e.errors.pattern.requiredPattern,t):e.hasError("minlength")?Object(i.l)(t)+" must be at least "+e.errors.minlength.requiredLength+" "+this.charMessage+" long":e.hasError("maxlength")?Object(i.l)(t)+" can not be more than "+e.errors.maxlength.requiredLength+" "+this.charMessage+" long":e.hasError("matchPassword")?i.i[t].matchPassword||"":e.hasError("min")?Object(i.l)(t)+" can not be less than "+e.errors.min.min:e.hasError("max")?Object(i.l)(t)+" can not be greater than "+e.errors.max.max:e.hasError("alpha")?" Please enter correct "+Object(i.l)(t):void 0},e=a.__decorate([Object(r.W)({name:"validate",pure:!1}),a.__metadata("design:paramtypes",[])],e)}(),s=n("Ip0R"),c=n("gIcY");n.d(t,"a",(function(){return d}));var d=function(){function e(){}return e=a.__decorate([Object(r.L)({imports:[s.c,c.n],declarations:[l],exports:[l],providers:[]})],e)}()},"5udm":function(e,t,n){"use strict";n.r(t);var a=n("mrSG"),r=n("b716"),i=n("UodH"),o=n("de3e"),l=n("uGex"),s=n("jQLj"),c=n("seP3"),d=n("Wf4p"),p=n("CcnG"),m=n("Ip0R"),f=n("buKM"),h=n("gIcY"),u=n("FTgb"),g=n("67Y/"),v=n("9Z1F"),b=n("XlPw"),y=n("iiAa"),_=n("vblm"),S=n("jRgp"),w=function(){function e(e,t,n,a){this._formService=e,this._formBuilder=t,this._http=n,this._uitilityService=a}return e.prototype.getAllCompanyShifts=function(){return this._http.get(S.G)},e.prototype.getEmployeeDetail=function(e){return this._http.get(S.Ob,{userId:e})},e.prototype.createEmployeeForm=function(){return this._formBuilder.group({name:this._formService.getControl("name"),email:this._formService.getControl("email"),employeeId:this._formService.getControl("dropdown"),shiftName:this._formService.getControl("dropdown"),validFrom:this._formService.getControl("dropdown"),validTill:this._formService.getControl("dropdown")})},e.prototype.addShift=function(e){var t=this;return this._http.post(S.Gb,e).pipe(Object(g.a)((function(e){return t._uitilityService.showAlert(_.d.UPDATED("Employee shift")),e})),Object(v.a)((function(e){return Object(b.a)(e)})))},e.ctorParameters=function(){return[{type:f.a},{type:h.d},{type:u.a},{type:y.a}]},e=a.__decorate([Object(p.D)({providedIn:"root"}),a.__metadata("design:paramtypes",[f.a,h.d,u.a,y.a])],e)}(),x=n("ZYCi"),k=n("yG5I"),O=n("RzZf"),F=n("Oy5v"),j=n("wd/R"),I=function(e){function t(t,n,a){var r=e.call(this)||this;return r._shiftAddService=t,r._route=n,r._router=a,r.allShifts=[],r.allWeekends=k.l,r.selectedWeekOff=[],r.createForm(),r}return a.__extends(t,e),t.prototype.ngOnInit=function(){this.getAllShifts(),this.employeeId=this._route.snapshot.params.employeeId,this.getEmployeeDetail();var e=j().add(1,"days");this.todayDate=e._d},t.prototype.createForm=function(){this.shiftForm=this._shiftAddService.createEmployeeForm()},t.prototype.getControl=function(e){return this.shiftForm.controls[e]},t.prototype.getAllShifts=function(){var e=this;this._shiftAddService.getAllCompanyShifts().subscribe((function(t){e.allShifts=t.data.shiftSlot}),(function(e){}))},t.prototype.getEmployeeDetail=function(){var e=this;this._shiftAddService.getEmployeeDetail(this.employeeId).subscribe((function(t){e.employeeDetail=t.data,e.patchValue(e.employeeDetail)}),(function(e){}))},t.prototype.patchValue=function(e){this.checkShift(e),this.selectedWeekOff=e.weekOff,this.empShift=e.shift;var t={name:e.name,email:e.email,employeeId:e.employeeId,shiftName:e.shift};this.shiftForm.patchValue(t)},t.prototype.checkShift=function(e){this.allWeekends.map((function(t){e.weekOff.map((function(e){t.value==e&&(t.checked=!0)}))}))},t.prototype.selectShift=function(e){},t.prototype.changeWeekOff=function(e,t){var n=this;e?this.selectedWeekOff.push(t):this.selectedWeekOff.map((function(e,a){e===t&&n.selectedWeekOff.splice(a,1)}))},t.prototype.editShift=function(){var e=this;if(!this.shiftForm.invalid&&!this.shiftForm.disabled){var t=a.__assign({},this.shiftForm.value);delete t.email,delete t.name,t.weekOff=this.selectedWeekOff,t.validFrom=t.validFrom.getTime(),t.validTill=t.validTill.getTime(),t.shiftName==this.empShift&&delete t.shiftName,this.shiftForm.disable(),this._shiftAddService.addShift(t).subscribe((function(t){t&&200==t.statusCode&&e._router.navigate([F.SHIFT_LISTS])}),(function(t){e.shiftForm.enable()}))}},t.ctorParameters=function(){return[{type:w},{type:x.a},{type:x.d}]},t=a.__decorate([Object(p.n)({selector:"app-shift-add",template:a.__importDefault(n("Sl1F")).default,styles:[a.__importDefault(n("yblG")).default]}),a.__metadata("design:paramtypes",[w,x.a,x.d])],t)}(O.a),P=n("3V+5"),L=n("faKS");n.d(t,"ShiftAddModule",(function(){return N}));var C=[{path:"",component:I}],N=function(){function e(){}return e=a.__decorate([Object(p.L)({imports:[m.c,x.e.forChild(C),r.b,i.a,o.a,l.a,P.a,h.n,s.a,c.c,d.n,L.a],declarations:[I],providers:[w]})],e)}()},FaG1:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,password:/^[^\s]+$/,name:/(.|\s)*\S(.|\s)*/,phone:"^[1-9][0-9]*$",price:/(^[0][1-9]+)|([1-9]\d*)+$/,alphaNumeric:"^[a-zA-Z0-9]+$",alphaNumericWithSpace:"^[a-zA-Z0-9 ]+$",alphabetsWithSpace:"^[a-zA-Z ]*$",onlyNumber:"^[0-9]*$",noSpace:/^\S*$/}},RzZf:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("mrSG"),r=function(){function e(){this.showFilter=!1,this.page=1,this.pageSize=10,this.pageOptions=[10,25,50,100]}return Object.defineProperty(e.prototype,"pageParams",{get:function(){return{pageNo:this.page,limit:this.pageSize}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"searchFilter",{get:function(){return{searchKey:this.search}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortHeaders",{get:function(){var e={};return this.sortKey&&(e={sortOrder:this.sortType,sortBy:this.sortKey}),e},enumerable:!0,configurable:!0}),e.prototype.confirmPageReload=function(){},e.prototype.allPrams=function(){return a.__assign({},this.pageParams,this.filterOptions,this.searchFilter,this.sortHeaders)},e.prototype.validateDeletion=function(){1!==this.total&&this.total-(this.page-1)*this.pageSize==1&&(this.page--,this.total--)},Object.defineProperty(e.prototype,"validPageOptions",{get:function(){for(var e=this.allPrams(),t={},n=0,a=Object.keys(e);n<a.length;n++){var r=a[n];(e[r]||0===e[r])&&(t[r]=e[r])}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageOptionsOnChange",{set:function(e){this.page=e.pageIndex+1,this.pageSize=e.pageSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortOptions",{set:function(e){e.direction?(this.sortKey=e.active,this.sortType="asc"===e.direction?1:-1):(this.sortKey=null,this.sortType=null)},enumerable:!0,configurable:!0}),e.prototype.currentIndex=function(e){return this.page*this.pageSize+e+1},e.prototype.resetPages=function(){this.total=0,this.page=1},e.prototype.resetSearch=function(){this.searchKey=""},e.prototype.getSerialNumber=function(e){return e+(this.validPageOptions.pageNo-1)*this.validPageOptions.limit},e.prototype.changeDateFormat=function(e){for(var t in e)e[t]instanceof Date&&(e[t]=e[t].getTime());return e},e}()},Sl1F:function(e,t,n){"use strict";n.r(t),t.default='<div class="custom_container">\n    <div class="white_wrapper">\n        <h2 class="heading">{{employeeId? \'Edit\' : \'Add\'}} Shift</h2>\n        <div class="flex_row">\n            <ul class="breadcrumb">\n                <li>\n                    <a href="javascript:void(0)">Shift Management</a>\n                </li>\n                <li>\n                    <a routerLink="/admin/shift/list">List</a>\n                </li>\n                <li>\n                    <a href="javascript:void(0)" class="active">{{employeeId? \'Edit\' : \'Add\'}}</a>\n                </li>\n            </ul>\n        </div>\n        <form [formGroup]="shiftForm" (ngSubmit)="editShift()">\n            <div class="form_wrapper">\n                <div class="flex_row">\n                    <div class="flex_col_sm_5">\n                        <div class="form_filed_wrapper">\n                            <mat-form-field appearance="outline">\n                                <mat-label>Employee ID</mat-label>\n                                <input formControlName="employeeId" readonly matInput>\n                            </mat-form-field>\n                        </div>\n                    </div>\n\n                    <div class="flex_col_sm_5">\n                        <div class="form_filed_wrapper">\n                            <mat-form-field appearance="outline">\n                                <mat-label>Employee Name</mat-label>\n                                <input formControlName="name" readonly matInput>\n                            </mat-form-field>\n                        </div>\n                    </div>\n\n                </div>\n\n                <div class="flex_row">\n\n                    <div class="flex_col_sm_5">\n                        <div class="form_filed_wrapper">\n                            <mat-form-field appearance="outline">\n                                <input matInput [matDatepicker]="picker1" formControlName="validFrom" [min]="todayDate" [max]="shiftForm.value.validTill" (click)="picker1.open()" placeholder="From Date" readonly>\n                                <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>\n                                <mat-datepicker #picker1></mat-datepicker>\n                                <mat-error>{{getControl(\'validFrom\')|validate:\'Valid From\'}}</mat-error>\n                            </mat-form-field>\n                        </div>\n                    </div>\n\n                    <div class="flex_col_sm_5">\n                        <div class="form_filed_wrapper">\n                            <mat-form-field appearance="outline">\n                                <input #toDate matInput formControlName="validTill" [min]="shiftForm.value.validFrom" [matDatepicker]="picker2" (click)="picker2.open()" placeholder="To Date" readonly>\n                                <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>\n                                <mat-datepicker #picker2></mat-datepicker>\n                                <mat-error>{{getControl(\'validTill\')|validate:\'Valid To\'}}</mat-error>\n                            </mat-form-field>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="flex_row">\n\n                    <div class="flex_col_sm_5">\n                        <div class="form_filed_wrapper">\n                            <mat-form-field appearance="outline">\n                                <mat-label>Employee Email</mat-label>\n                                <input formControlName="email" readonly matInput>\n                            </mat-form-field>\n                        </div>\n                    </div>\n\n                    <div class="flex_col_sm_5">\n                        <div class="form_filed_wrapper">\n                            <mat-form-field appearance="outline">\n                                <mat-select formControlName="shiftName" placeholder="Select Shif">\n                                    <mat-option *ngFor="let shift of allShifts" [value]="shift.shiftName">\n                                        \x3c!-- shift update - satyam --\x3e\n                                        {{ shift.shiftName+\' \'+\'(\'+shift.startShift+\' - \'+shift.endShift+\')\'}}\n                                    </mat-option>\n                                </mat-select>\n                                <mat-error>{{getControl(\'shift\')|validate:\'Shift\'}}</mat-error>\n                            </mat-form-field>\n                        </div>\n                    </div>\n                </div>\n                <div class="flex_row weekend">\n                    <mat-label>Weekends</mat-label>\n                </div>\n                <div class="flex_row">\n                    <div class="flex_col_sm_3">\n                        <div class="form_filed_wrapper">\n                            <div>\n                                <mat-checkbox style="margin-right:20px" (change)="changeWeekOff($event.checked,day.value)" [checked]="day.checked" *ngFor="let day of allWeekends" [value]="day.value">\n                                    {{day?.viewValue}}\n                                </mat-checkbox>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="flex_row">\n                    <div class="flex_col_sm_10">\n                        <div class="form_filed_wrapper text-center">\n                            <ul class="btn_wrapper">\n                                <li> <button mat-raised-button type="button" [routerLink]="\'SHIFT_LISTS\'|absolutePath">Cancel</button>\n                                </li>\n                                <li> <button mat-raised-button color="primary">{{\'Update\'}}</button> </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>'},buKM:function(e,t,n){"use strict";var a=n("mrSG"),r=n("CcnG"),i=n("gIcY"),o=n("FaG1"),l=100,s=8,c=20,d=3,p=100,m=10,f=10,h=3,u=1e3,g=1,v=10,b=2,y=20;n.d(t,"a",(function(){return _}));var _=function(){function e(){this.VALIDATION={name:[i.o.pattern(o.a.alphabetsWithSpace),i.o.minLength(d),i.o.maxLength(p)],profileName:[i.o.pattern(o.a.name),i.o.minLength(d),i.o.maxLength(p)],alphabetic:[i.o.pattern(o.a.alphabetsWithSpace),i.o.minLength(d),i.o.maxLength(p)],alphaNumeric:[i.o.pattern(o.a.alphaNumericWithSpace),i.o.minLength(d),i.o.maxLength(p)],price:[i.o.pattern(o.a.price),i.o.minLength(g),i.o.maxLength(v),i.o.min(0)],seatingCapacity:[i.o.required,i.o.pattern(o.a.phone),i.o.min(b),i.o.max(y)],email:[i.o.pattern(o.a.email),i.o.maxLength(l)],description:[i.o.pattern(o.a.name),i.o.minLength(h),i.o.maxLength(u)],password:[i.o.pattern(o.a.password),i.o.minLength(s),i.o.maxLength(c)],phone:[i.o.required,i.o.pattern(o.a.phone),i.o.minLength(m),i.o.maxLength(f)],crfLimitMonth:[i.o.required,i.o.pattern(o.a.onlyNumber)],cutOff:[],dropdown:[],checkbox:[],address:[i.o.required],longitude:[i.o.required],latitude:[i.o.required],startShift:[i.o.required],endShift:[i.o.required],googleAddress:[i.o.required,i.o.minLength(d),i.o.maxLength(p)],noSpace:[i.o.required,i.o.pattern(o.a.noSpace)]}}return e.prototype.matchPassword=function(e){var t=e.get("password").value,n=e.get("confirmPassword").value;t!==n?e.get("confirmPassword").setErrors({matchPassword:!0}):t===n&&e.get("confirmPassword").errors&&(delete e.get("confirmPassword").errors.matchPassword,0===Object.keys(e.get("confirmPassword").errors).length&&e.get("confirmPassword").setErrors(null))},e.prototype.getControl=function(e,t){void 0===t&&(t=!0);var n=this.VALIDATION[e].slice();return t&&("checkbox"===e?n.splice(0,0,i.o.requiredTrue):n.splice(0,0,i.o.required)),["",i.o.compose(n)]},e.prototype.getFilterFormControls=function(e){for(var t={},n=0,a=e;n<a.length;n++){t[a[n]]=[null]}return t},e=a.__decorate([Object(r.D)({providedIn:"root"}),a.__metadata("design:paramtypes",[])],e)}()},yblG:function(e,t,n){"use strict";n.r(t),t.default='@charset "UTF-8";\n.flex_row {\n  display: -webkit-box;\n  display: flex;\n  margin: 0 -10px;\n  -webkit-box-align: center;\n          align-items: center;\n}\n.flex_row.weekend mat-label {\n  font-weight: 500;\n  padding: 0 15px;\n  margin-bottom: 20px;\n}\n.breadcrumb {\n  width: 100%;\n  padding: 5px 15px;\n}\n.breadcrumb li {\n  display: inline-block;\n}\n.breadcrumb li a {\n  color: #006CB8;\n  text-decoration: none;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 400;\n  outline: none;\n}\n.breadcrumb li a:before {\n  padding: 0 5px;\n  color: #B7BEC1;\n  content: "/ ";\n}\n.breadcrumb li a:after {\n  content: "/Â ";\n  padding: 0 2px;\n  color: #A2ABAE;\n}\n.breadcrumb li a.active {\n  color: #262c2d;\n  cursor: default;\n}\n.breadcrumb li a.active:after {\n  display: none;\n}\n.breadcrumb li:first-child a:before, .breadcrumb li:first-child a:after {\n  display: none;\n}\n.breadcrumb li:last-child a:before, .breadcrumb li:last-child a:after {\n  display: none;\n}\n:host ::ng-deep .mat-select.mat-select-invalid .mat-select-placeholder {\n  color: #f00;\n}\n:host ::ng-deep .mat-form-field-invalid input::-webkit-input-placeholder {\n  color: #f00;\n}\n:host ::ng-deep .mat-form-field-invalid input::-moz-placeholder {\n  color: #f00;\n}\n:host ::ng-deep .mat-form-field-invalid input::-ms-input-placeholder {\n  color: #f00;\n}\n:host ::ng-deep .mat-form-field-invalid input::placeholder {\n  color: #f00;\n}'}}]);